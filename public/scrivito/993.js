"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[993],{6886:(t,e,n)=>{n.d(e,{A:()=>d,n:()=>f});var r=n(5204),o=n(1946),i=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))u.call(e,n)&&l(t,n,e[n]);return t};function f(t,e,n){return(0,r.dY)((()=>g((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.dY)((()=>g((e=>{delete e[t]}))))}function d(){const t=v();return Object.keys(t).map((e=>{const n=parseInt(e,10);return c({elementId:n},t[n])}))}const p=(0,o.Ld)();function g(t){const e=c({},v());t(e),p.set(e)}function v(){return p.get()||{}}},6200:(t,e,n)=>{n.d(e,{bO:()=>u,kT:()=>a,nl:()=>s});var r=n(5204),o=n(5688);const i={};function a(t,e){i[t]=e}function s(t){delete i[t]}function u(t){return i[t]?l.get(t).get():null}const l=(0,o.rL)({loadElement:t=>({stream:new r.RE((e=>{const n=()=>{const n=i[t];e.next(n?function(t){const{left:e,top:n,width:r,height:o}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:o}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},6155:(t,e,n)=>{n.d(e,{s:()=>u,F:()=>l});var r=n(2574),o=n(414),i=n(8417),a=n(7861);const s=(0,o.A)((function(t){return(0,i.A)((0,r.A)(t,1,a.A,!0))}));function u(t,e){return s(t?Object.keys(t):[],e?Object.keys(e):[]).sort()}function l(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}},3695:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>yt,Team:()=>bt,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>T,getDataStackVariables:()=>it,getDataVariablesFor:()=>st,getGlobalDataVariables:()=>ot,installDndHandler:()=>i,installScrollHandler:()=>m,openContentBrowser:()=>v,registerEditor:()=>l,reloadIfContextChangesFrom:()=>z,runValidationsFor:()=>L,setModeIndicators:()=>p,titleForBasicWidget:()=>w,uiTranslate:()=>Q,validationResultsFor:()=>$});var r=n(7272),o=n(5204);function i(){const t=(0,o.YE)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.H)().drop()}))}var a=n(1946);let s=0,u={};function l(t){const e=(s++,s.toString());u[e]=t;const n=f.get()||[];f.set([...n,e])}function c({type:t,tag:e}){const n=f.get();if(n){const r=n.find((n=>u[n]&&u[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:u[r]}}}}const f=(0,a.Ld)();(0,o.Nj)((function(){s=0,u={},f.clear()}));var d=n(1616);function p(){const t=(0,o.YE)().body;t.classList.add("scrivito_editing_active"),(0,d.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,d.gY)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(7283);function v(t={}){return(0,r.H)().openContentBrowser((0,g.n)(t))}const b=30,y=25;function m(){(0,o.YE)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,o.BA)(),r=(0,o.kA)();r>0&&e<b?(0,o.VG)(n,r-y):(0,o.Hj)()>r+(0,o.eU)()&&e>(0,o.eU)()-b&&(0,o.VG)(n,r+y)}))}var h=n(2295),j=n(7461);function w(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,j.Dy)(t))}catch(t){(0,o.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.u)(e))?void 0:n.title)||(0,o.o3)(e));var e,n}var C=n(2574),O=1/0;const I=function(t){return(null==t?0:t.length)?(0,C.A)(t,O):[]};var G=n(1728);const F=["error","warning","info"];function P(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==F.indexOf(e)}(e)&&(!!n&&"object"==typeof n)}var k=n(5688),D=n(4360),V=Object.defineProperty,A=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,x=(t,e,n)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||(e={}))E.call(e,n)&&x(t,n,e[n]);if(A)for(var n of A(e))J.call(e,n)&&x(t,n,e[n]);return t};const R={error:0,warning:1,info:2};function $(t,e){return function(t,e){(0,D.kq)(t)||(0,o.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,o.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),T(t._scrivitoPrivateContent).filter((t=>(0,o.On)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>R[t]-R[e])).map((t=>({message:t.message,severity:t.severity})))}const T=(0,k.rP)([],(t=>t instanceof D.kI?t.id():`${t.obj().id()}/${t.id()}`),L);function L(t){var e;const n=t instanceof D.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),i=null==(e=(0,h.u)(r))?void 0:e.validations;if(!i)return[];const a=(0,j.Dy)(t);return I(i.map((t=>"function"==typeof t?function(t,e){return H(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(W)}(t,a):function(t,e){const[n,...r]=t,i=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,o.iI)(t)||_(t)}(n))return(0,o.JL)(new o.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${i}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(_(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof D.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=j.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,j.Dy)(t.get())}const s=S({name:n},(l=e,l._scrivitoPrivateContent instanceof D.kI?{content:e,obj:e}:{content:e,widget:e})),u=`Please check validations for the attribute ${n} of the model ${i}. `;var l;return I(r.map((t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=P(t)?t[1]:t;return(0,G.v)()(e)}(t),o=P(t)&&(null==(e=t[0])?void 0:e.severity);return H(u,r,a,s).map((t=>({attributeName:n,message:t.message,severity:o||t.severity||"error"})))})))}(t,a))))}function W(t){return{message:t.message,severity:t.severity||"error"}}function _(t){return["_language","_permalink"].includes(t)}function H(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,o.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t,severity:"error"}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==F.indexOf(e));var e}(r)?[r]:((0,o.JL)(new o.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function z(t){(0,k.eX)((()=>(0,r.H)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,o.K5)(n),(0,o.yQ)())}))}var N=n(5796),B=n(5634),Y=n(6155),M=n(9708),U=n(9800),K=n(1107),q=n(5460);function Q(t){if(q.B)return q.B.translate(t)}var X=Object.defineProperty,Z=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,nt=(t,e,n)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e)=>{for(var n in e||(e={}))tt.call(e,n)&&nt(t,n,e[n]);if(Z)for(var n of Z(e))et.call(e,n)&&nt(t,n,e[n]);return t};const ot=(0,k.rP)(void 0,(()=>{const t=function(){const t={};return(0,U.iW)().forEach((e=>{const n=e.dataClassName(),r=(0,h.u)(n),o=(0,U.m8)(n),i=dt(n,r),a=(0,Y.s)(o,null==r?void 0:r.attributes);a.length>0?a.forEach((a=>{var s;return t[ft(n,a)]=ct(i,dt(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==o?void 0:o[a]),e.get(a))})):Object.assign(t,lt(e,n,i))})),t}();return Object.keys(t).length?t:void 0}));const it=(0,k.rP)(void 0,(function(t){return t.filter(U.o3).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=t.filter(U.o3).map((({_class:t,_id:e})=>{var n;return null==(n=(0,U.sf)(t))?void 0:n.get(e)})).filter((t=>!!t)).filter(at).map(ut).filter((t=>!!t));return 0===e.length?void 0:Object.assign({},...e)}));function at(t,e,n){return!(0,M.I)(t.dataClassName())||!n.slice(0,e).find((e=>e.dataClassName()===t.dataClassName()))}function st(t,e){const n=pt(t);if(n)return function(t,e){return(0,N.A)(t,((t,n)=>rt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function ut(t,e){let n,r;const o=t.obj();o&&(n=(0,U.u5)((0,j.zo)(o)),r=n?Object.keys(n):[]);const i={},a=t.dataClassName(),s=(0,h.u)(a),u=(0,U.m8)(a),l=function(t){var e;if(!(0,M.I)(t.dataClassName()))return;const n=null==(e=(0,B.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const o=(0,K.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!o||"string"!=typeof o)return;const i=n.id()===r.id()?` (${Q("current_page")||"Current page"})`:"";return`${o} (${r.objClass()})${i}`}(t)||dt(a,s),c=(0,Y.s)(u,null==s?void 0:s.attributes),f=(0,M.I)(t.dataClassName())?e:void 0;if(c.length>0)c.forEach((e=>{var n;r&&!r.includes(e)||(i[ft(a,e)]=ct(l,dt(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==u?void 0:u[e]),t.get(e),f))}));else if(n)Object.entries(n).forEach((([t,e])=>i[ft(a,t)]=ct(l,dt(t),e,f)));else if(t instanceof U.FU)return lt(t,a,l);return i}function lt(t,e,n){const r=t.getCustomAttributes(),o=Object.fromEntries(Object.entries(r).map((([t,r])=>[ft(e,t),ct(n,dt(t),r)])));return rt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},o)}function ct(t,e,n,r){return rt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r})}function ft(t,e){return`${t}.${e}`}function dt(t,e,n){return(0,Y.F)(e,null==n?void 0:n[1])||(0,o.o3)(t)}function pt(t){var e;const n=t.getContainer(),r=null==(e=(0,h.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),o=r.class();if(null===o)return;const i=null==(n=(0,h.u)(o))?void 0:n.attributes;if(!i)return;return(0,N.A)(i,((t,e)=>dt(e,t)))}(t,e):e}if(n instanceof D.$R){const t=n.obj().fieldContainingWidget(n);if(t)return pt(t)}}var gt=n(2109),vt=n(8589);class bt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class yt extends vt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new bt(t)))}authToken(t){return(0,gt.d)({audience:t})||""}}},1107:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>pe,startAppAdapter:()=>ve,titleForObj:()=>de});var r=n(5796),o=n(1579),i=n(4572),a=n(5112),s=n(7478),u=n(349),l=n(2726),c=n(6886),f=n(1946);const d=(0,f.Ld)();var p=n(2295),g=n(6200),v=n(2026),b=n(5584),y=n(8261),m=n(838),h=n(263),j=n(5788),w=n(9641),C=n(827),O=n(3648),I=n(7283),G=n(4416),F=n(2577);F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.fG,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.dY,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV,F.JV;const P={getAdapterSpec:F.fG,getCapabilities:F.fG,getPreviewSizes:F.fG,descriptionForObj:F.fG,getClasses:F.fG,getContentBrowserConfiguration:F.fG,getHomepageId:F.fG,getSiteIdForObj:F.fG,titleForObj:F.fG,titleForWidget:F.fG,thumbnailForObj:F.fG,getAuthGroups:F.fG,getContentZoneData:F.fG,getCurrentAppLocation:F.fG,getCustomComponentDimensions:F.fG,getDocumentTitle:F.fG,getElementBoundaries:F.fG,getExtensionsUrl:F.fG,getMenuPatch:F.fG,getObjClassForContentTypeMapping:F.fG,getResolvedUrl:F.fG,getScrollPosition:F.fG,getValidationReport:F.fG,getUrlFor:F.fG,getForcedEditorLanguage:F.fG,generalPropertiesForObj:F.fG,generalPropertiesForWidget:F.fG,propertiesGroupsForObj:F.fG,propertiesGroupsForWidget:F.fG,wantsLayoutEditing:F.fG,getInitialContentDumpUrl:F.fG,objReplicationMessageStream:F.dY,executeCustomCommand:F.JV,initializeContentForObj:F.JV,initializeContentForWidget:F.JV,initializeCopy:F.JV,initializeObjCopy:F.JV,initializeWidgetCopy:F.JV,navigateTo:F.JV,scrollIntoView:F.JV,scrollToTop:F.JV,showCustomComponent:F.JV,showWidgetContent:F.JV,wantsAutoAttributeConversion:F.fG};var k=n(5204),D=n(1091),V=n(3695),A=n(4360),E=n(7461);function J(t){const e=(0,A.ED)((0,A.aG)((0,A.eb)()),t);return e&&(0,E.Dy)(e)}var x=n(1737),S=n(3617),R=n(9955),$=n(6155),T=n(9800);function L(){return(0,T.VU)().map((t=>function(t){const e=t.name(),n=(0,p.u)(e),r=(0,T.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,T.nx)(e),description:null==n?void 0:n.description,attributes:W(r,null==n?void 0:n.attributes),isSingleton:(0,T.Qk)(e)}}(t)))}function W(t,e){return(0,$.s)(t,e).map((n=>function(t,e,n){const[r,o]=e||["string"],[i,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce((([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]]),[[],[]])):[];var n}(r,o);return{name:t,type:r,values:i,valuesLocalization:a,title:(0,$.F)(n,o),description:null==n?void 0:n.description,referenceTo:_(r,o),reverseTitle:H(o)}}(n,null==t?void 0:t[n],null==e?void 0:e[n])))}function _(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function H(t){return(0,T.y8)(t)?t.reverseTitle:void 0}var z=Object.defineProperty,N=Object.defineProperties,B=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,K=(t,e,n)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))M.call(e,n)&&K(t,n,e[n]);if(Y)for(var n of Y(e))U.call(e,n)&&K(t,n,e[n]);return t},Q=(t,e)=>N(t,B(e)),X=(t,e)=>{var n={};for(var r in t)M.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Y)for(var r of Y(t))e.indexOf(r)<0&&U.call(t,r)&&(n[r]=t[r]);return n};function Z(){const t=(0,E.Pi)();return Object.keys(t).map((e=>function(t,e){const n=E.Sj.forClass(e);return q({type:"Obj",hasComponent:(0,R.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},et(t,n))}(e,t[e])))}function tt(){const t=(0,E.Yh)();return Object.keys(t).map((e=>function(t,e){const n=E.Sj.forClass(e);return q({type:"Widget"},et(t,n))}(e,t[e])))}function et(t,e){var n,r,o,i,a,s;const u=null==(n=(0,p.u)(t))?void 0:n.thumbnail,l=null==(r=(0,p.u)(t))?void 0:r.properties;return{attributes:(c=e.attributes(),f=(null==(o=(0,p.u)(t))?void 0:o.attributes)||{},Object.keys(c).map((t=>{const[e,n]=c[t],r=f[t];if(!r)return q({name:t,type:e},n);const o=r,{values:i}=o,a=X(o,["values"]);return q(Q(q({name:t,type:e},n),{hasEditingConfig:!0,valuesLocalization:i}),a)}))),description:null==(i=(0,p.u)(t))?void 0:i.description,hideInSelectionDialogs:null==(a=(0,p.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,k.Bo)(l)?l:void 0,thumbnail:u&&(0,S.r)(u),title:null==(s=(0,p.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var c,f}var nt=n(9286),rt=Object.defineProperty,ot=Object.defineProperties,it=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,lt=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function ct(){const t=(0,nt.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,k.u4)();if(void 0===r)throw new k.Gd;return s=((t,e)=>{for(var n in e||(e={}))st.call(e,n)&&lt(t,n,e[n]);if(at)for(var n of at(e))ut.call(e,n)&&lt(t,n,e[n]);return t})({},(o=e).sitePath?o.objId?{type:"page",siteId:o.siteData.siteId,objId:o.objId}:{type:"not found",siteId:o.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(i=o.siteData)?void 0:i.siteId)?a:null}),u={url:r+n.location,version:n.historyChangesCount},ot(s,it(u));var o,i,a,s,u}var ft=n(5688);function dt(t){return function(t){return(0,ft.vD)({state:pt,stream:new k.RE((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)}))})}(t).getWithDefault(null)}const pt=(0,f.Ld)();var gt=n(4066),vt=n(7183);function bt(t){return function(t){return(0,ft.vD)({state:yt,stream:new k.RE((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const yt=(0,f.Ld)();var mt=n(7272),ht=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function jt(t,e){return ht(this,null,(function*(){yield(0,mt.H)().finishReplicatingObj(t,e);const n=yield wt(t,e);n&&Ct((0,E.Dy)(n))}))}function wt(t,e){return ht(this,null,(function*(){return(0,ft.Hh)((()=>(0,A.ED)((0,A.Wr)(t),e)))}))}function Ct(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,p.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var Ot=n(390),It=Object.defineProperty,Gt=Object.defineProperties,Ft=Object.getOwnPropertyDescriptors,Pt=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,Vt=(t,e,n)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,At=(t,e)=>{for(var n in e||(e={}))kt.call(e,n)&&Vt(t,n,e[n]);if(Pt)for(var n of Pt(e))Dt.call(e,n)&&Vt(t,n,e[n]);return t},Et=(t,e)=>Gt(t,Ft(e));function Jt(t){var e;const n=t.objClass(),r="properties",o=null==(e=(0,p.u)(n))?void 0:e.properties;if(_t(o))return o;if("function"==typeof o){let e;try{e=o((0,E.Dy)(t))}catch(e){zt(e,t,r)}if(_t(e))return e;throw Nt(n,r,"Properties must be an array of strings or an array of configs")}}function xt(t){var e;const n=t.objClass(),r="propertiesGroups",o=null==(e=(0,p.u)(n))?void 0:e.propertiesGroups;if(Ht(o))return o;if("function"==typeof o){let e;try{e=o((0,E.Dy)(t))}catch(e){zt(e,t,r)}return function(t,e,n){if(!Ht(t))throw Nt(e,n,"The callback return value must be an array of groups");if(!t.every(Wt))throw Nt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&(0,Ot.A)(t,"key").length===t.length}(t))throw Nt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some($t))throw Nt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function St(t,e){return(0,A.ED)((0,A.aG)(t),e)}function Rt(t,e,n){var r;return null==(r=St(t,e))?void 0:r.widget(n)}function $t(t){return!!function(t){return Tt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function Tt(t){return Mt(t)&&"string"==typeof t.title&&("string"==typeof t.component||Lt(t.component))}function Lt(t){return"function"==typeof t||"object"==typeof t&&null!==t}function Wt(t){return function(t){return Tt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Mt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&_t(t.properties)}(t)}function _t(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Mt(n)&&"boolean"==typeof n.enabled}(t)))}function Ht(t){return Array.isArray(t)&&t.every((t=>{return Tt(t)||Mt(e=t)&&"string"==typeof e.title&&_t(e.properties);var e}))}function zt(t,e,n){throw new k.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof A.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Nt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,k.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Bt(t){return t.map((t=>function(t){return Tt(t)&&Lt(t.component)}(t)?Et(At({},t),{component:null,enabled:Yt(t)}):Et(At({},t),{enabled:Yt(t)})))}function Yt(t){return"boolean"!=typeof t.enabled||t.enabled}function Mt(t){return(0,k.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Ut=n(4924),Kt=n(7639),qt=n(1616),Qt=n(8848),Xt=n(3602),Zt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function te(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){ee(e).then((n=>{let r;if((0,Kt.Jm)(se(n)),r=e.widgetId?function(t,e,n){const r=ne(e,n);return r&&ae(t,r)||null}(t,e.objId,e.widgetId):function(t,e){const n=oe(e);return n&&ae(t,n)||null}(t,e.objId),null===r)return;const o=Ut.createElement("function"==typeof r?(0,Xt.Ng)(r):r,n);(0,R.FM)(o)}))}(r,e):n&&function(t,e){const n=(0,R.K8)(t);if(null===n)throw new k.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);ee(e).then((t=>{(0,Kt.Jm)(se(t)),(0,R.FM)(Ut.createElement(n,t))}))}(n,e)}function ee(t){return Zt(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function({objId:t,widgetId:e}){return(0,ft.Hh)((()=>ne(t,e))).then((t=>{if(!t)throw new k.aS(`Missing widget with ID ${e}`);return{widget:(0,E.Dy)(t)}}))}(t):function({objId:t}){return(0,ft.Hh)((()=>oe(t))).then((e=>{if(!e)throw new k.aS(`Missing obj with ID ${t}`);const n=(0,E.Dy)(e);return{obj:n,page:n}}))}(t):{}}))}function ne(t,e){if((0,qt.gY)()){const[n,r]=(0,Qt.d)();return re(r,t,e)||re(n,t,e)}return re((0,A.eb)(),t,e)}function re(t,e,n){const r=ie(t,e);if(r)return r.widget(n)}function oe(t){if((0,qt.gY)()){const[e,n]=(0,Qt.d)();return ie(n,t)||ie(e,t)}return ie((0,A.eb)(),t)}function ie(t,e){return(0,A.ED)((0,A.aG)(t),e)}function ae(t,e){var n;const r=null==(n=xt(e))?void 0:n.filter(Tt);if(!r)return null;const o=r.find((e=>e.key===t));return(null==o?void 0:o.component)?"function"==typeof o.component||"object"==typeof o.component?o.component:(0,R.K8)(o.component):null}function se(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}var ue=n(9398);function le(t,e){return n=this,r=null,o=function*(){const n=yield(0,ft.Hh)((()=>A.kI.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&((0,ue.F)(),(0,R.FM)(Ut.createElement(R.i1,{widget:r})))},new Promise(((t,e)=>{var i=t=>{try{s(o.next(t))}catch(t){e(t)}},a=t=>{try{s(o.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((o=o.apply(n,r)).next())}));var n,r,o}function ce(t){var e;const n=(0,A.ED)((0,A.aG)((0,A.eb)()),t);if(!n)return;const r=n.objClass(),o=null==(e=(0,p.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof o)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof A.yI){const e=fe(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof E.OH&&t.isBinary()){const e=(0,E.zo)(t).get("blob",["binary"]);if(e){const t=fe(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new k.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(o((0,E.Dy)(n)))}catch(t){(0,k.JL)(t)}}function fe(t){return(0,ft.qt)(void 0,(()=>t.isImage()))}function de(t){var e;const n=J(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class pe{getAdapterSpec(){return(0,r.A)(P,(()=>!0))}getCapabilities(){return{filterReferenceItems:!0,handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,I.n)((0,u._)(t))}getObjClassForContentTypeMapping(){return(0,l.p)()}getAuthGroups(){return(0,o.N)()}titleForObj(t){return de(t)}descriptionForObj(t){var e;const n=J(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ce(t)}generalPropertiesForObj(t,e){return function(t,e){const n=St(t,e);return n&&Jt(n)||[]}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=Rt(t,e,n);return r&&Jt(r)||[]}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=St(t,e);if(!n)return[];const r=xt(n);return r&&Bt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=Rt(t,e,n);if(!r)return[];const o=xt(r);return o&&Bt(o)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,j.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=A.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,V.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,m.OG)(t)}initializeContentForWidget(t,e){(0,m.T6)(t,e)}initializeCopy(t){jt((0,A.eb)(),t)}initializeObjCopy(t,e){jt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){ht(this,null,(function*(){var r;yield(0,mt.H)().finishReplicatingObj(t,e);const o=null==(r=yield wt(t,e))?void 0:r.widget(n);o&&Ct((0,E.Dy)(o))}))}(t,e,n)}getClasses(){return[...Z(),...tt(),...L()].map((t=>(0,x.A)(t,(t=>void 0!==t))))}navigateTo(t){return(0,i.vU)({objId:t}).then((()=>({version:(0,s.lQ)()})))}showCustomComponent(t,e){te(t,e)}showWidgetContent(t,e){le(t,e)}objReplicationMessageStream(t,e){return D.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return d.get()||""}getMenuPatch(){return(0,j.sO)()}getUrlFor(t,e={}){const n=A.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=gt(t),n=(0,vt.vA)(e);if(!n||!n.objId||"/"===n.sitePath)return null;const r={obj_id:n.objId},o=e.fragment();o&&(r.fragment=o);const i=e.search();return i&&(r.query=i),r}(t)}getHomepageId(){const t=(0,C.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,G.uo)(t)}getElementBoundaries(t){return(0,g.bO)(t)}getContentZoneData(){return(0,c.A)()}getCustomComponentDimensions(){return dt((0,k.YE)().querySelector("html"))}getScrollPosition(){return bt((0,k.YE)().querySelector("html"))}getCurrentAppLocation(){return ct()}getValidationReport(t){const e=A.kI.get(t);if(!e)return;const n=(0,V.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,V.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:ge("error",n,r),warning:ge("warning",n,r),info:ge("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,O.R)(t)}getExtensionsUrl(){return(0,v.q)()}scrollToTop(){(0,k.VG)(0,0)}wantsLayoutEditing(){return(0,h._F)()}getForcedEditorLanguage(){return(0,b.V)()}getPreviewSizes(){return(0,w.f)()}wantsAutoAttributeConversion(){return(0,A.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,y.L)())?t:null}}function ge(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}function ve(t){const e=(0,F.Mf)(P,new pe);(0,F.UK)(t,e,P,(t=>((0,k.JL)(t),t.message)))}}}]);