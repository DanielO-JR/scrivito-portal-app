"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[237],{6886:(t,e,n)=>{n.d(e,{A:()=>d,n:()=>f});var r=n(2838),o=n(1946),i=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))u.call(e,n)&&l(t,n,e[n]);return t};function f(t,e,n){return(0,r.dY)((()=>g((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.dY)((()=>g((e=>{delete e[t]}))))}function d(){const t=v();return Object.keys(t).map((e=>{const n=parseInt(e,10);return c({elementId:n},t[n])}))}const p=(0,o.Ld)();function g(t){const e=c({},v());t(e),p.set(e)}function v(){return p.get()||{}}},6200:(t,e,n)=>{n.d(e,{bO:()=>u,kT:()=>a,nl:()=>s});var r=n(2838),o=n(5688);const i={};function a(t,e){i[t]=e}function s(t){delete i[t]}function u(t){return i[t]?l.get(t).get():null}const l=(0,o.rL)({loadElement:t=>({stream:new r.RE((e=>{const n=()=>{const n=i[t];e.next(n?function(t){const{left:e,top:n,width:r,height:o}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:o}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},6155:(t,e,n)=>{n.d(e,{s_:()=>f,Fc:()=>d,P:()=>c});var r=n(2574),o=n(414),i=n(8417),a=n(7861);const s=(0,o.A)((function(t){return(0,i.A)((0,r.A)(t,1,a.A,!0))}));var u=n(2295),l=n(9900);function c(){return(0,l.VU)().map((t=>function(t){const e=t.name(),n=(0,u.u)(e),r=(0,l.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,l.nx)(e),description:null==n?void 0:n.description,attributes:p(r,null==n?void 0:n.attributes),isSingleton:(0,l.Qk)(e)}}(t)))}function f(t,e){return s(t?Object.keys(t):[],e?Object.keys(e):[]).sort()}function d(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}function p(t,e){return f(t,e).map((n=>function(t,e,n){const[r,o]=e||["string"],[i,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce((([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]]),[[],[]])):[];var n}(r,o);return{name:t,type:r,values:i,valuesLocalization:a,title:d(n,o),description:null==n?void 0:n.description,referenceTo:g(r,o),reverseTitle:v(o)}}(n,null==t?void 0:t[n],null==e?void 0:e[n])))}function g(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function v(t){return(0,l.y8)(t)?t.reverseTitle:void 0}},3695:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>wt,Team:()=>ht,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>_,getDataStackVariables:()=>ut,getDataVariablesFor:()=>ct,getGlobalDataVariables:()=>st,installDndHandler:()=>i,installScrollHandler:()=>m,openContentBrowser:()=>v,registerEditor:()=>l,reloadIfContextChangesFrom:()=>Y,runValidationsFor:()=>W,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>tt,validationResultsFor:()=>L});var r=n(7272),o=n(2838);function i(){const t=(0,o.YE)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.H)().drop()}))}var a=n(1946);let s=0,u={};function l(t){const e=(s++,s.toString());u[e]=t;const n=f.get()||[];f.set([...n,e])}function c({type:t,tag:e}){const n=f.get();if(n){const r=n.find((n=>u[n]&&u[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:u[r]}}}}const f=(0,a.Ld)();(0,o.Nj)((function(){s=0,u={},f.clear()}));var d=n(1616);function p(){const t=(0,o.YE)().body;t.classList.add("scrivito_editing_active"),(0,d.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,d.gY)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(7283);function v(t={}){return(0,r.H)().openContentBrowser((0,g.n)(t))}const b=30,y=25;function m(){(0,o.YE)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,o.BA)(),r=(0,o.kA)();r>0&&e<b?(0,o.VG)(n,r-y):(0,o.Hj)()>r+(0,o.eU)()&&e>(0,o.eU)()-b&&(0,o.VG)(n,r+y)}))}var h=n(2295),w=n(3340);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,o.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.u)(e))?void 0:n.title)||(0,o.o3)(e));var e,n}var C=n(2574),O=1/0;const I=function(t){return(null==t?0:t.length)?(0,C.A)(t,O):[]};var G=n(1728);const P=["error","warning","info"],F=o.Uw.interface({severity:o.Uw.maybe(o.Uw.enums.of(P))}),k=o.Uw.tuple([F,o.Uw.Object]);o.Uw.list(o.Uw.union([o.Uw.Function,o.Uw.list(o.Uw.union([o.Uw.String,o.Uw.Function,o.Uw.Object,k]))]));function D(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==P.indexOf(e)}(e)&&(!!n&&"object"==typeof n)}var V=n(5688),A=n(3781),E=Object.defineProperty,J=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,$=(t,e,n)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||(e={}))x.call(e,n)&&$(t,n,e[n]);if(J)for(var n of J(e))S.call(e,n)&&$(t,n,e[n]);return t};const U={error:0,warning:1,info:2},R=(0,o.eY)("validationResultsFor",[["model",o.Uw.union([A.aT,A.xO])],["attributeName",o.Uw.String]],{docPermalink:"js-sdk/validationResultsFor"});function L(t,e,...n){return R(t,e,...n),_(t._scrivitoPrivateContent).filter((t=>(0,o.On)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>U[t]-U[e])).map((t=>({message:t.message,severity:t.severity})))}const _=(0,V.rP)([],(t=>t instanceof A.kI?t.id():`${t.obj().id()}/${t.id()}`),W);function W(t){var e;const n=t instanceof A.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),i=null==(e=(0,h.u)(r))?void 0:e.validations;if(!i)return[];const a=(0,w.Dy)(t);return I(i.map((t=>"function"==typeof t?function(t,e){return N(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(z)}(t,a):function(t,e){const[n,...r]=t,i=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,o.iI)(t)||H(t)}(n))return(0,o.JL)(new o.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${i}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(H(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof A.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const s=T({name:n},(l=e,l._scrivitoPrivateContent instanceof A.kI?{content:e,obj:e}:{content:e,widget:e})),u=`Please check validations for the attribute ${n} of the model ${i}. `;var l;return I(r.map((t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=D(t)?t[1]:t;return(0,G.v)()(e)}(t),o=D(t)&&(null==(e=t[0])?void 0:e.severity);return N(u,r,a,s).map((t=>({attributeName:n,message:t.message,severity:o||t.severity||"error"})))})))}(t,a))))}function z(t){return{message:t.message,severity:t.severity||"error"}}function H(t){return["_language","_permalink"].includes(t)}function N(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,o.JL)(t),[]}return r?"string"==typeof r?[{message:r}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==P.indexOf(e));var e}(r)?[r]:((0,o.JL)(new o.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function Y(t){(0,V.eX)((()=>(0,r.H)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,o.K5)(n),(0,o.yQ)())}))}var B=n(5796),M=n(5634),K=n(6155),q=n(9708),Q=n(9900),X=n(4147),Z=n(5460);function tt(t){if(Z.B)return Z.B.translate(t)}var et=Object.defineProperty,nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,it=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e)=>{for(var n in e||(e={}))rt.call(e,n)&&it(t,n,e[n]);if(nt)for(var n of nt(e))ot.call(e,n)&&it(t,n,e[n]);return t};const st=(0,V.rP)(void 0,(()=>{const t=function(){const t={};return(0,Q.iW)().forEach((e=>{const n=e.dataClassName(),r=(0,h.u)(n),o=(0,Q.m8)(n),i=vt(n,r),a=(0,K.s_)(o,null==r?void 0:r.attributes);a.length>0?a.forEach((a=>{var s;return t[gt(n,a)]=pt(i,vt(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==o?void 0:o[a]),e.get(a))})):Object.assign(t,dt(e,n,i))})),t}();return Object.keys(t).length?t:void 0}));const ut=(0,V.rP)(void 0,(function(t){return t.filter(Q.o3).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=t.filter(Q.o3).map((({_class:t,_id:e})=>{var n;return null==(n=(0,Q.sf)(t))?void 0:n.get(e)})).filter((t=>!!t)).filter(lt).map(ft).filter((t=>!!t));return 0===e.length?void 0:Object.assign({},...e)}));function lt(t,e,n){return!(0,q.I)(t.dataClassName())||!n.slice(0,e).find((e=>e.dataClassName()===t.dataClassName()))}function ct(t,e){const n=bt(t);if(n)return function(t,e){return(0,B.A)(t,((t,n)=>at({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function ft(t,e){let n,r;const o=t.obj();o&&(n=(0,Q.u5)((0,w.zo)(o)),r=n?Object.keys(n):[]);const i={},a=t.dataClassName(),s=(0,h.u)(a),u=(0,Q.m8)(a),l=function(t){var e;if(!(0,q.I)(t.dataClassName()))return;const n=null==(e=(0,M.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const o=(0,X.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!o||"string"!=typeof o)return;const i=n.id()===r.id()?` (${tt("current_page")||"Current page"})`:"";return`${o} (${r.objClass()})${i}`}(t)||vt(a,s),c=(0,K.s_)(u,null==s?void 0:s.attributes),f=(0,q.I)(t.dataClassName())?e:void 0;if(c.length>0)c.forEach((e=>{var n;r&&!r.includes(e)||(i[gt(a,e)]=pt(l,vt(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==u?void 0:u[e]),t.get(e),f))}));else if(n)Object.entries(n).forEach((([t,e])=>i[gt(a,t)]=pt(l,vt(t),e,f)));else if(t instanceof Q.FU)return dt(t,a,l);return i}function dt(t,e,n){const r=t.getCustomAttributes(),o=Object.fromEntries(Object.entries(r).map((([t,r])=>[gt(e,t),pt(n,vt(t),r)])));return at({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},o)}function pt(t,e,n,r){return at({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r})}function gt(t,e){return`${t}.${e}`}function vt(t,e,n){return(0,K.Fc)(e,null==n?void 0:n[1])||(0,o.o3)(t)}function bt(t){var e;const n=t.getContainer(),r=null==(e=(0,h.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),o=r.class();if(null===o)return;const i=null==(n=(0,h.u)(o))?void 0:n.attributes;if(!i)return;return(0,B.A)(i,((t,e)=>vt(e,t)))}(t,e):e}if(n instanceof A.$R){const t=n.obj().fieldContainingWidget(n);if(t)return bt(t)}}var yt=n(2109),mt=n(8589);class ht{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class wt extends mt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new ht(t)))}authToken(t){return(0,yt.d)({audience:t})||""}}},4147:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>ue,startAppAdapter:()=>ce,titleForObj:()=>se});var r=n(5796),o=n(1579),i=n(4572),a=n(5112),s=n(7478),u=n(349),l=n(2726),c=n(6886),f=n(1946);const d=(0,f.Ld)();var p=n(2295),g=n(6200),v=n(2026),b=n(5584),y=n(8261),m=n(838),h=n(263),w=n(5788),j=n(9641),C=n(827),O=n(3648),I=n(7283),G=n(4416),P=n(2577);P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.fG,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.dY,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV,P.JV;const F={getAdapterSpec:P.fG,getCapabilities:P.fG,getPreviewSizes:P.fG,descriptionForObj:P.fG,getClasses:P.fG,getContentBrowserConfiguration:P.fG,getHomepageId:P.fG,getSiteIdForObj:P.fG,titleForObj:P.fG,titleForWidget:P.fG,thumbnailForObj:P.fG,getAuthGroups:P.fG,getContentZoneData:P.fG,getCurrentAppLocation:P.fG,getCustomComponentDimensions:P.fG,getDocumentTitle:P.fG,getElementBoundaries:P.fG,getExtensionsUrl:P.fG,getMenuPatch:P.fG,getObjClassForContentTypeMapping:P.fG,getResolvedUrl:P.fG,getScrollPosition:P.fG,getValidationReport:P.fG,getUrlFor:P.fG,getForcedEditorLanguage:P.fG,generalPropertiesForObj:P.fG,generalPropertiesForWidget:P.fG,propertiesGroupsForObj:P.fG,propertiesGroupsForWidget:P.fG,wantsLayoutEditing:P.fG,getInitialContentDumpUrl:P.fG,objReplicationMessageStream:P.dY,executeCustomCommand:P.JV,initializeContentForObj:P.JV,initializeContentForWidget:P.JV,initializeCopy:P.JV,initializeObjCopy:P.JV,initializeWidgetCopy:P.JV,navigateTo:P.JV,scrollIntoView:P.JV,scrollToTop:P.JV,showCustomComponent:P.JV,showWidgetContent:P.JV,wantsAutoAttributeConversion:P.fG};var k=n(2838),D=n(1091),V=n(3695),A=n(3781),E=n(3340);function J(t){const e=(0,A.ED)((0,A.aG)((0,A.eb)()),t);return e&&(0,E.Dy)(e)}var x=n(1737),S=n(3617),$=n(6155),T=n(9955),U=Object.defineProperty,R=Object.defineProperties,L=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,H=(t,e,n)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))W.call(e,n)&&H(t,n,e[n]);if(_)for(var n of _(e))z.call(e,n)&&H(t,n,e[n]);return t},Y=(t,e)=>R(t,L(e)),B=(t,e)=>{var n={};for(var r in t)W.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&_)for(var r of _(t))e.indexOf(r)<0&&z.call(t,r)&&(n[r]=t[r]);return n};function M(){const t=(0,E.Pi)();return Object.keys(t).map((e=>function(t,e){const n=E.Sj.forClass(e);return N({type:"Obj",hasComponent:(0,T.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},q(t,n))}(e,t[e])))}function K(){const t=(0,E.Yh)();return Object.keys(t).map((e=>function(t,e){const n=E.Sj.forClass(e);return N({type:"Widget"},q(t,n))}(e,t[e])))}function q(t,e){var n,r,o,i,a,s;const u=null==(n=(0,p.u)(t))?void 0:n.thumbnail,l=null==(r=(0,p.u)(t))?void 0:r.properties;return{attributes:(c=e.attributes(),f=(null==(o=(0,p.u)(t))?void 0:o.attributes)||{},Object.keys(c).map((t=>{const[e,n]=c[t],r=f[t];if(!r)return N({name:t,type:e},n);const o=r,{values:i}=o,a=B(o,["values"]);return N(Y(N({name:t,type:e},n),{hasEditingConfig:!0,valuesLocalization:i}),a)}))),description:null==(i=(0,p.u)(t))?void 0:i.description,hideInSelectionDialogs:null==(a=(0,p.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,k.Bo)(l)?l:void 0,thumbnail:u&&(0,S.r)(u),title:null==(s=(0,p.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var c,f}var Q=n(9286),X=Object.defineProperty,Z=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,ot=(t,e,n)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function it(){const t=(0,Q.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,k.u4)();if(void 0===r)throw new k.Gd;return s=((t,e)=>{for(var n in e||(e={}))nt.call(e,n)&&ot(t,n,e[n]);if(et)for(var n of et(e))rt.call(e,n)&&ot(t,n,e[n]);return t})({},(o=e).sitePath?o.objId?{type:"page",siteId:o.siteData.siteId,objId:o.objId}:{type:"not found",siteId:o.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(i=o.siteData)?void 0:i.siteId)?a:null}),u={url:r+n.location,version:n.historyChangesCount},Z(s,tt(u));var o,i,a,s,u}var at=n(5688);function st(t){return function(t){return(0,at.vD)({state:ut,stream:new k.RE((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)}))})}(t).getWithDefault(null)}const ut=(0,f.Ld)();var lt=n(4066),ct=n(7183);function ft(t){return function(t){return(0,at.vD)({state:dt,stream:new k.RE((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const dt=(0,f.Ld)();var pt=n(7272),gt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function vt(t,e){return gt(this,null,(function*(){yield(0,pt.H)().finishReplicatingObj(t,e);const n=yield bt(t,e);n&&yt((0,E.Dy)(n))}))}function bt(t,e){return gt(this,null,(function*(){return(0,at.Hh)((()=>(0,A.ED)((0,A.Wr)(t),e)))}))}function yt(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,p.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var mt=n(390),ht=Object.defineProperty,wt=Object.defineProperties,jt=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Gt=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&Gt(t,n,e[n]);if(Ct)for(var n of Ct(e))It.call(e,n)&&Gt(t,n,e[n]);return t},Ft=(t,e)=>wt(t,jt(e));function kt(t){var e;const n=t.objClass(),r="properties",o=null==(e=(0,p.u)(n))?void 0:e.properties;if($t(o))return o;if("function"==typeof o){let e;try{e=o((0,E.Dy)(t))}catch(e){Ut(e,t,r)}if($t(e))return e;throw Rt(n,r,"Properties must be an array of strings or an array of configs")}}function Dt(t){var e;const n=t.objClass(),r="propertiesGroups",o=null==(e=(0,p.u)(n))?void 0:e.propertiesGroups;if(Tt(o))return o;if("function"==typeof o){let e;try{e=o((0,E.Dy)(t))}catch(e){Ut(e,t,r)}return function(t,e,n){if(!Tt(t))throw Rt(e,n,"The callback return value must be an array of groups");if(!t.every(St))throw Rt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&(0,mt.A)(t,"key").length===t.length}(t))throw Rt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Et))throw Rt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function Vt(t,e){return(0,A.ED)((0,A.aG)(t),e)}function At(t,e,n){var r;return null==(r=Vt(t,e))?void 0:r.widget(n)}function Et(t){return!!function(t){return Jt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function Jt(t){return Wt(t)&&"string"==typeof t.title&&("string"==typeof t.component||xt(t.component))}function xt(t){return"function"==typeof t||"object"==typeof t&&null!==t}function St(t){return function(t){return Jt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Wt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&$t(t.properties)}(t)}function $t(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Wt(n)&&"boolean"==typeof n.enabled}(t)))}function Tt(t){return Array.isArray(t)&&t.every((t=>{return Jt(t)||Wt(e=t)&&"string"==typeof e.title&&$t(e.properties);var e}))}function Ut(t,e,n){throw new k.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof A.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Rt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,k.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Lt(t){return t.map((t=>function(t){return Jt(t)&&xt(t.component)}(t)?Ft(Pt({},t),{component:null,enabled:_t(t)}):Ft(Pt({},t),{enabled:_t(t)})))}function _t(t){return"boolean"!=typeof t.enabled||t.enabled}function Wt(t){return(0,k.n_)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var zt=n(4924),Ht=n(7639),Nt=n(1616),Yt=n(8848),Bt=n(3602),Mt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function Kt(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){qt(e).then((n=>{let r;if((0,Ht.Jm)(ne(n)),r=e.widgetId?function(t,e,n){const r=Qt(e,n);return r&&ee(t,r)||null}(t,e.objId,e.widgetId):function(t,e){const n=Zt(e);return n&&ee(t,n)||null}(t,e.objId),null===r)return;const o=zt.createElement("function"==typeof r?(0,Bt.Ng)(r):r,n);(0,T.FM)(o)}))}(r,e):n&&function(t,e){const n=(0,T.K8)(t);if(null===n)throw new k.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);qt(e).then((t=>{(0,Ht.Jm)(ne(t)),(0,T.FM)(zt.createElement(n,t))}))}(n,e)}function qt(t){return Mt(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function({objId:t,widgetId:e}){return(0,at.Hh)((()=>Qt(t,e))).then((t=>{if(!t)throw new k.aS(`Missing widget with ID ${e}`);return{widget:(0,E.Dy)(t)}}))}(t):function({objId:t}){return(0,at.Hh)((()=>Zt(t))).then((e=>{if(!e)throw new k.aS(`Missing obj with ID ${t}`);const n=(0,E.Dy)(e);return{obj:n,page:n}}))}(t):{}}))}function Qt(t,e){if((0,Nt.gY)()){const[n,r]=(0,Yt.d)();return Xt(r,t,e)||Xt(n,t,e)}return Xt((0,A.eb)(),t,e)}function Xt(t,e,n){const r=te(t,e);if(r)return r.widget(n)}function Zt(t){if((0,Nt.gY)()){const[e,n]=(0,Yt.d)();return te(n,t)||te(e,t)}return te((0,A.eb)(),t)}function te(t,e){return(0,A.ED)((0,A.aG)(t),e)}function ee(t,e){var n;const r=null==(n=Dt(e))?void 0:n.filter(Jt);if(!r)return null;const o=r.find((e=>e.key===t));return(null==o?void 0:o.component)?"function"==typeof o.component||"object"==typeof o.component?o.component:(0,T.K8)(o.component):null}function ne(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}var re=n(9398);function oe(t,e){return n=this,r=null,o=function*(){const n=yield(0,at.Hh)((()=>A.kI.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&((0,re.F)(),(0,T.FM)(zt.createElement(T.i1,{widget:r})))},new Promise(((t,e)=>{var i=t=>{try{s(o.next(t))}catch(t){e(t)}},a=t=>{try{s(o.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((o=o.apply(n,r)).next())}));var n,r,o}function ie(t){var e;const n=(0,A.ED)((0,A.aG)((0,A.eb)()),t);if(!n)return;const r=n.objClass(),o=null==(e=(0,p.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof o)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof A.yI){const e=ae(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof E.OH&&t.isBinary()){const e=(0,E.zo)(t).get("blob",["binary"]);if(e){const t=ae(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new k.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(o((0,E.Dy)(n)))}catch(t){(0,k.JL)(t)}}function ae(t){return(0,at.qt)(void 0,(()=>t.isImage()))}function se(t){var e;const n=J(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class ue{getAdapterSpec(){return(0,r.A)(F,(()=>!0))}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,I.n)((0,u._)(t))}getObjClassForContentTypeMapping(){return(0,l.p)()}getAuthGroups(){return(0,o.N)()}titleForObj(t){return se(t)}descriptionForObj(t){var e;const n=J(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ie(t)}generalPropertiesForObj(t,e){return function(t,e){const n=Vt(t,e);return n&&kt(n)||[]}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=At(t,e,n);return r&&kt(r)||[]}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=Vt(t,e);if(!n)return[];const r=Dt(n);return r&&Lt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=At(t,e,n);if(!r)return[];const o=Dt(r);return o&&Lt(o)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=A.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,V.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,m.OG)(t)}initializeContentForWidget(t,e){(0,m.T6)(t,e)}initializeCopy(t){vt((0,A.eb)(),t)}initializeObjCopy(t,e){vt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){gt(this,null,(function*(){var r;yield(0,pt.H)().finishReplicatingObj(t,e);const o=null==(r=yield bt(t,e))?void 0:r.widget(n);o&&yt((0,E.Dy)(o))}))}(t,e,n)}getClasses(){return[...M(),...K(),...(0,$.P)()].map((t=>(0,x.A)(t,(t=>void 0!==t))))}navigateTo(t){return(0,i.vU)({objId:t}).then((()=>({version:(0,s.lQ)()})))}showCustomComponent(t,e){Kt(t,e)}showWidgetContent(t,e){oe(t,e)}objReplicationMessageStream(t,e){return D.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return d.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=A.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=lt(t),n=(0,ct.vA)(e);if(!n||!n.objId||"/"===n.sitePath)return null;const r={obj_id:n.objId},o=e.fragment();o&&(r.fragment=o);const i=e.search();return i&&(r.query=i),r}(t)}getHomepageId(){const t=(0,C.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,G.uo)(t)}getElementBoundaries(t){return(0,g.bO)(t)}getContentZoneData(){return(0,c.A)()}getCustomComponentDimensions(){return st((0,k.YE)().querySelector("html"))}getScrollPosition(){return ft((0,k.YE)().querySelector("html"))}getCurrentAppLocation(){return it()}getValidationReport(t){const e=A.kI.get(t);if(!e)return;const n=(0,V.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,V.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:le("error",n,r),warning:le("warning",n,r),info:le("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,O.R)(t)}getExtensionsUrl(){return(0,v.q)()}scrollToTop(){(0,k.VG)(0,0)}wantsLayoutEditing(){return(0,h._F)()}getForcedEditorLanguage(){return(0,b.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,A.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,y.L)())?t:null}}function le(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}function ce(t){const e=(0,P.Mf)(F,new ue);(0,P.UK)(t,e,F,(t=>((0,k.JL)(t),t.message)))}}}]);