"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[158,599],{4992:(t,e,n)=>{n.d(e,{$:()=>d,Z:()=>f});var r=n(9853),o=n(2757),i=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))u.call(e,n)&&l(t,n,e[n]);return t};function f(t,e,n){return(0,r.Y3)((()=>g((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.Y3)((()=>g((e=>{delete e[t]}))))}function d(){const t=b();return Object.keys(t).map((e=>{const n=parseInt(e,10);return c({elementId:n},t[n])}))}const p=(0,o.JH)();function g(t){const e=c({},b());t(e),p.set(e)}function b(){return p.get()||{}}},4145:(t,e,n)=>{n.d(e,{so:()=>s,st:()=>u,ui:()=>a});var r=n(9853),o=n(6664);const i={};function a(t,e){i[t]=e}function s(t){delete i[t]}function u(t){return i[t]?l.get(t).get():null}const l=new o.X2({loadElement:t=>({stream:new r.fU((e=>{const n=()=>{const n=i[t];e.next(n?function(t){const{left:e,top:n,width:r,height:o}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:o}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},8599:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>st,Team:()=>at,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>$,getDataStackVariables:()=>Y,getDataVariablesFor:()=>q,getGlobalDataVariables:()=>X,installDndHandler:()=>i,installScrollHandler:()=>m,openContentBrowser:()=>b,registerEditor:()=>l,reloadIfContextChangesFrom:()=>M,runValidationsFor:()=>R,setModeIndicators:()=>p,titleForBasicWidget:()=>j,validationResultsFor:()=>z});var r=n(4712),o=n(9853);function i(){const t=(0,o.Me)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.K)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.K)().drop()}))}var a=n(2757);let s=0,u={};function l(t){const e=(s++,s.toString());u[e]=t;const n=f.get()||[];f.set([...n,e])}function c({type:t,tag:e}){const n=f.get();if(n){const r=n.find((n=>u[n]&&u[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:u[r]}}}}const f=(0,a.JH)();(0,o.rj)((function(){s=0,u={},f.clear()}));var d=n(6993);function p(){const t=(0,o.Me)().body;t.classList.add("scrivito_editing_active"),(0,d.DG)()&&t.setAttribute("data-scrivito-editing",""),(0,d.rl)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(8493);function b(t={}){return(0,r.K)().openContentBrowser((0,g.f)(t))}const v=30,y=25;function m(){(0,o.Me)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,o.bY)(),r=(0,o.XO)();r>0&&e<v?(0,o.X5)(n,r-y):(0,o.aZ)()>r+(0,o.WS)()&&e>(0,o.WS)()-v&&(0,o.X5)(n,r+y)}))}var h=n(384),w=n(105);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.x)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.pz)(t))}catch(t){(0,o.a6)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.x)(e))?void 0:n.title)||(0,o.G8)(e));var e,n}var C=n(8273);const H=function(t){return(null==t?0:t.length)?(0,C.Z)(t,Infinity):[]};var O=n(8142),T=n(6664),I=n(9880),P=Object.defineProperty,x=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,E=(t,e,n)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||(e={}))D.call(e,n)&&E(t,n,e[n]);if(x)for(var n of x(e))F.call(e,n)&&E(t,n,e[n]);return t};const A={error:0,warning:1,info:2},S=(0,o.PJ)("validationResultsFor",[["model",o.pC.union([I.Bt,I.l9])],["attributeName",o.pC.String]],{docPermalink:"js-sdk/validationResultsFor"});function z(t,e,...n){return S(t,e,...n),$(t._scrivitoPrivateContent).filter((t=>(0,o.iS)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>A[t]-A[e])).map((t=>({message:t.message,severity:t.severity})))}const $=(0,T.wV)([],(t=>t instanceof I.Jj?t.id():`${t.obj().id()}/${t.id()}`),R);function R(t){var e;const n=t instanceof I.Jj?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),i=null==(e=(0,h.x)(r))?void 0:e.validations;if(!i)return[];const a=(0,w.pz)(t);return H(i.map((t=>(0,O.eK)(t)?function(t,e){return _(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(G)}(t,a):function(t,e){const[n,...r]=t,i=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,o.mb)(t)||W(t)}(n))return(0,o.a6)(new o.ir(`Found an attribute validation callback for the system attribute ${n} of the model ${i}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,o.m0)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(W(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof I.Jj))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.V_.basicFieldFor(e,n);if(!t)return[];a=(0,w.pz)(t.get())}const s=k({name:n},(l=e,l._scrivitoPrivateContent instanceof I.Jj?{content:e,obj:e}:{content:e,widget:e})),u=`Please check validations for the attribute ${n} of the model ${i}. `;var l;return H(r.map((t=>{var e;const r=(0,O.np)(t),o=(0,O.tj)(t)&&(null==(e=t[0])?void 0:e.severity);return _(u,r,a,s).map((t=>({attributeName:n,message:t.message,severity:o||t.severity||"error"})))})))}(t,a))))}function G(t){return{message:t.message,severity:t.severity||"error"}}function W(t){return["_language","_permalink"].includes(t)}function _(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,o.a6)(t),[]}return r?"string"==typeof r?[{message:r}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==O.bI.indexOf(e));var e}(r)?[r]:((0,o.a6)(new o.ir(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,o.m0)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function M(t){(0,T.DU)((()=>(0,r.K)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,o.sy)(n),(0,o.H5)())}))}var V=n(785),J=n(9528),B=Object.defineProperty,Z=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(t,e,n)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K=(t,e)=>{for(var n in e||(e={}))L.call(e,n)&&U(t,n,e[n]);if(Z)for(var n of Z(e))N.call(e,n)&&U(t,n,e[n]);return t};const X=(0,T.wV)(void 0,(()=>{const t=function(){const t={};return(0,J.d$)().forEach((e=>{const n=e.dataClassName(),r=(0,h.x)(n),i=nt(null==r?void 0:r.title,n),a=null==r?void 0:r.attributes;if(a)Object.entries(a).forEach((([r,{title:o}])=>t[et(n,r)]=tt(i,nt(o,r),e.get(r))));else{const r=e.getExternalData();r&&Object.entries(r).forEach((([e,r])=>t[et(n,e)]=tt(i,(0,o.G8)(e),r)))}})),t}();return Object.keys(t).length?t:void 0}));const Y=(0,T.wV)(void 0,(function(t){return t.filter(J.Fv).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=t.filter(J.Fv).map((({_class:t,_id:e})=>{var n;return null==(n=(0,J.KT)(t))?void 0:n.get(e)})).filter((t=>!!t)).map(Q).filter((t=>!!t));return 0===e.length?void 0:Object.assign({},...e)}));function q(t,e){const n=rt(t);if(n)return function(t,e){return(0,V.Z)(t,((t,n)=>K({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function Q(t){let e,n;const r=t.obj();r&&(e=r?(0,J.Gc)((0,w.bM)(r)):void 0,n=e?Object.keys(e):[]);const i={},a=t.dataClassName(),s=(0,h.x)(a),u=nt(null==s?void 0:s.title,a),l=null==s?void 0:s.attributes;if(l)Object.entries(l).forEach((([e,{title:r}])=>{n&&!n.includes(e)||(i[et(a,e)]=tt(u,nt(r,e),t.get(e)))}));else if(e)Object.entries(e).forEach((([t,e])=>i[et(a,t)]=tt(u,(0,o.G8)(t),e)));else if(t instanceof J.HP){const e=t.getExternalData();e&&Object.entries(e).forEach((([t,e])=>i[et(a,t)]=tt(u,(0,o.G8)(t),e)))}return i}function tt(t,e,n){return{dataClassTitle:t,title:e,value:"string"==typeof n?n:""}}function et(t,e){return`${t}.${e}`}function nt(t,e){return t||(0,o.G8)(e)}function rt(t){var e;const n=t.getContainer(),r=null==(e=(0,h.x)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),o=r.class();if(null===o)return;const i=null==(n=(0,h.x)(o))?void 0:n.attributes;if(!i)return;return(0,V.Z)(i,(({title:t},e)=>nt(t,e)))}(t,e):e}if(n instanceof I.E8){const t=n.obj().fieldContainingWidget(n);if(t)return rt(t)}}var ot=n(7879),it=n(9099);class at{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class st extends it.n{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new at(t)))}authToken(t){return(0,ot.Q)(t)||""}}},2487:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>se,startAppAdapter:()=>ce});var r=n(785),o=n(4113),i=n(4821),a=n(8459),s=n(125),u=n(934),l=n(917),c=n(4992),f=n(2757);const d=(0,f.JH)();var p=n(384),g=n(4145),b=n(925),v=n(7538),y=n(5369),m=n(4625),h=n(4417),w=n(2619),j=n(9434),C=n(4273),H=n(6601),O=n(8493),T=n(48),I=n(2996);I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.HT,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.M,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8,I.H8;const P={getAdapterSpec:I.HT,getCapabilities:I.HT,getPreviewSizes:I.HT,descriptionForObj:I.HT,getClasses:I.HT,getContentBrowserConfiguration:I.HT,getHomepageId:I.HT,getSiteIdForObj:I.HT,titleForObj:I.HT,titleForWidget:I.HT,thumbnailForObj:I.HT,getAuthGroups:I.HT,getContentZoneData:I.HT,getCurrentAppLocation:I.HT,getCustomComponentDimensions:I.HT,getDocumentTitle:I.HT,getElementBoundaries:I.HT,getExtensionsUrl:I.HT,getMenuPatch:I.HT,getObjClassForContentTypeMapping:I.HT,getResolvedUrl:I.HT,getScrollPosition:I.HT,getValidationReport:I.HT,getUrlFor:I.HT,getForcedEditorLanguage:I.HT,generalPropertiesForObj:I.HT,generalPropertiesForWidget:I.HT,propertiesGroupsForObj:I.HT,propertiesGroupsForWidget:I.HT,wantsLayoutEditing:I.HT,getInitialContentDumpUrl:I.HT,objReplicationMessageStream:I.M,executeCustomCommand:I.H8,initializeContentForObj:I.H8,initializeContentForWidget:I.H8,initializeCopy:I.H8,initializeObjCopy:I.H8,initializeWidgetCopy:I.H8,navigateTo:I.H8,scrollIntoView:I.H8,scrollToTop:I.H8,showCustomComponent:I.H8,showWidgetContent:I.H8,wantsAutoAttributeConversion:I.HT};var x=n(9853),D=n(4433),F=n(8599),E=n(9880),k=n(105),A=n(8553),S=n(2611),z=n(1729),$=n(9528),R=Object.defineProperty,G=Object.defineProperties,W=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,J=(t,e,n)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||(e={}))M.call(e,n)&&J(t,n,e[n]);if(_)for(var n of _(e))V.call(e,n)&&J(t,n,e[n]);return t},Z=(t,e)=>G(t,W(e)),L=(t,e)=>{var n={};for(var r in t)M.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&_)for(var r of _(t))e.indexOf(r)<0&&V.call(t,r)&&(n[r]=t[r]);return n};function N(){const t=[],e=(0,k.Cn)();Object.keys(e).forEach((n=>{const r=e[n];t.push(function(t,e){const n=k.V_.forClass(e);return B({type:"Obj",onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},U(t,n))}(n,r))}));const n=(0,k.OY)();Object.keys(n).forEach((e=>{const r=n[e];t.push(function(t,e){const n=k.V_.forClass(e);return B({type:"Widget"},U(t,n))}(e,r))}));return(0,$.KP)().forEach((e=>{t.push(function(t){const e=t.name(),n=(0,p.x)(e);return{type:"ExternalData",name:e,title:null==n?void 0:n.title,description:null==n?void 0:n.description,attributes:K(null==n?void 0:n.attributes),isSingleton:(0,$.l)(e)}}(e))})),t.map((t=>(0,S.Z)(t,A.Z)))}function U(t,e){var n,r,o,i,a,s;const u=null==(n=(0,p.x)(t))?void 0:n.thumbnail,l=null==(r=(0,p.x)(t))?void 0:r.properties;return{attributes:(c=e.attributes(),f=(null==(o=(0,p.x)(t))?void 0:o.attributes)||{},Object.keys(c).map((t=>{const[e,n]=c[t],r=f[t];if(!r)return B({name:t,type:e},n);const o=r,{values:i}=o,a=L(o,["values"]);return B(Z(B({name:t,type:e},n),{valuesLocalization:i}),a)}))),description:null==(i=(0,p.x)(t))?void 0:i.description,hideInSelectionDialogs:null==(a=(0,p.x)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,x.GI)(l)?l:void 0,thumbnail:u&&(0,z.G)(u),title:null==(s=(0,p.x)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var c,f}function K(t){return t?Object.keys(t).map((e=>{const{title:n,description:r}=t[e];return{type:"string",name:e,title:n,description:r}})):[]}var X=n(6752),Y=Object.defineProperty,q=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,rt=(t,e,n)=>e in t?Y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function ot(){const t=(0,X.lT)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,x.ZJ)();if(void 0===r)throw new x.AQ;return s=((t,e)=>{for(var n in e||(e={}))et.call(e,n)&&rt(t,n,e[n]);if(tt)for(var n of tt(e))nt.call(e,n)&&rt(t,n,e[n]);return t})({},(o=e).sitePath?o.objId?{type:"page",siteId:o.siteData.siteId,objId:o.objId}:{type:"not found",siteId:o.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(i=o.siteData)?void 0:i.siteId)?a:null}),u={url:r+n.location,version:n.historyChangesCount},q(s,Q(u));var o,i,a,s,u}var it=n(6664);function at(t){return function(t){return new it.of({state:st,stream:new x.fU((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),n.disconnect}(t,n)}))})}(t).getWithDefault(null)}const st=(0,f.JH)();var ut=n(6275),lt=n(3420);function ct(t){return function(t){return new it.of({state:ft,stream:new x.fU((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const ft=(0,f.JH)();var dt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function pt(t,e){return dt(this,null,(function*(){const n=yield gt(t,e);n&&bt((0,k.pz)(n))}))}function gt(t,e){return dt(this,null,(function*(){return(0,it.zD)((()=>(0,E.R2)((0,E.$u)(t),e)))}))}function bt(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,p.x)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var vt=n(6743),yt=n(7782),mt=Object.defineProperty,ht=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Ot=(t,e,n)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e)=>{for(var n in e||(e={}))Ct.call(e,n)&&Ot(t,n,e[n]);if(jt)for(var n of jt(e))Ht.call(e,n)&&Ot(t,n,e[n]);return t},It=(t,e)=>ht(t,wt(e));function Pt(t){var e;const n=t.objClass(),r="properties",o=null==(e=(0,p.x)(n))?void 0:e.properties;if(zt(o))return o;if("function"==typeof o){let e;try{e=o((0,k.pz)(t))}catch(e){Rt(e,t,r)}if(zt(e))return e;throw Gt(n,r,"Properties must be an array of strings or an array of configs")}}function xt(t){var e;const n=t.objClass(),r="propertiesGroups",o=null==(e=(0,p.x)(n))?void 0:e.propertiesGroups;if($t(o))return o;if("function"==typeof o){let e;try{e=o((0,k.pz)(t))}catch(e){Rt(e,t,r)}return function(t,e,n){if(!$t(t))throw Gt(e,n,"The callback return value must be an array of groups");if(!t.every(St))throw Gt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&(0,yt.Z)(t,"key").length===t.length}(t))throw Gt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Et))throw Gt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function Dt(t,e){return(0,E.R2)((0,E.hA)(t),e)}function Ft(t,e,n){var r;return null==(r=Dt(t,e))?void 0:r.widget(n)}function Et(t){return!!function(t){return kt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function kt(t){return Mt(t)&&"string"==typeof t.title&&("string"==typeof t.component||At(t.component))}function At(t){return"function"==typeof t||"object"==typeof t&&null!==t}function St(t){return function(t){return kt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Mt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&zt(t.properties)}(t)}function zt(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Mt(n)&&"boolean"==typeof n.enabled}(t)))}function $t(t){return Array.isArray(t)&&t.every((t=>{return kt(t)||Mt(e=t)&&"string"==typeof e.title&&zt(e.properties);var e}))}function Rt(t,e,n){throw new x.ir(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof E.Jj?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Gt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,x.dg)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Wt(t){return t.map((t=>function(t){return kt(t)&&At(t.component)}(t)?It(Tt({},t),{component:null,enabled:_t(t)}):It(Tt({},t),{enabled:_t(t)})))}function _t(t){return"boolean"!=typeof t.enabled||t.enabled}function Mt(t){return(0,vt.Z)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Vt=n(4073),Jt=n(4106),Bt=n(6993),Zt=n(1021),Lt=n(2250),Nt=n(6519),Ut=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function Kt(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){Xt(e).then((n=>{let r;if((0,Jt.ou)(ne(n)),r=e.widgetId?function(t,e,n){const r=Yt(e,n);return r&&ee(t,r)||null}(t,e.objId,e.widgetId):function(t,e){const n=Qt(e);return n&&ee(t,n)||null}(t,e.objId),null===r)return;const o=Vt.createElement("function"==typeof r?(0,Nt.$j)(r):r,n);(0,Lt.kB)(o)}))}(r,e):n&&function(t,e){const n=(0,Lt.$g)(t);if(null===n)throw new x.ir(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);Xt(e).then((t=>{(0,Jt.ou)(ne(t)),(0,Lt.kB)(Vt.createElement(n,t))}))}(n,e)}function Xt(t){return Ut(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function({objId:t,widgetId:e}){return(0,it.zD)((()=>Yt(t,e))).then((t=>{if(!t)throw new x.Ix(`Missing widget with ID ${e}`);return{widget:(0,k.pz)(t)}}))}(t):function({objId:t}){return(0,it.zD)((()=>Qt(t))).then((e=>{if(!e)throw new x.Ix(`Missing obj with ID ${t}`);const n=(0,k.pz)(e);return{obj:n,page:n}}))}(t):{}}))}function Yt(t,e){if((0,Bt.rl)()){const[n,r]=(0,Zt.N)();return qt(r,t,e)||qt(n,t,e)}return qt((0,E.GD)(),t,e)}function qt(t,e,n){const r=te(t,e);if(r)return r.widget(n)}function Qt(t){if((0,Bt.rl)()){const[e,n]=(0,Zt.N)();return te(n,t)||te(e,t)}return te((0,E.GD)(),t)}function te(t,e){return(0,E.R2)((0,E.hA)(t),e)}function ee(t,e){var n;const r=null==(n=xt(e))?void 0:n.filter(kt);if(!r)return null;const o=r.find((e=>e.key===t));return(null==o?void 0:o.component)?"function"==typeof o.component||"object"==typeof o.component?o.component:(0,Lt.$g)(o.component):null}function ne(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}var re=n(7700);function oe(t,e){return n=this,r=null,o=function*(){const n=yield(0,it.zD)((()=>E.Jj.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&((0,re.e)(),(0,Lt.kB)(Vt.createElement(Lt.xp,{widget:r})))},new Promise(((t,e)=>{var i=t=>{try{s(o.next(t))}catch(t){e(t)}},a=t=>{try{s(o.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((o=o.apply(n,r)).next())}));var n,r,o}function ie(t){var e;const n=(0,E.R2)((0,E.hA)((0,E.GD)()),t);if(!n)return;const r=n.objClass(),o=null==(e=(0,p.x)(r))?void 0:e.thumbnailForContent;if("function"==typeof o)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof E.Kb){const e=ae(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof k.eG&&t.isBinary()){const e=(0,k.bM)(t).get("blob",["binary"]);if(e){const t=ae(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new x.ir("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(o((0,k.pz)(n)))}catch(t){(0,x.a6)(t)}}function ae(t){return(0,it.n4)(void 0,(()=>t.isImage()))}class se{getAdapterSpec(){return(0,r.Z)(P,(()=>!0))}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0}}getContentBrowserConfiguration(t){return(0,O.f)((0,u.e)(t))}getObjClassForContentTypeMapping(){return(0,l.r)()}getAuthGroups(){return(0,o.m)()}titleForObj(t){var e;const n=le(t);if(!n)return;const r=null==(e=(0,p.x)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}descriptionForObj(t){var e;const n=le(t);if(!n)return;const r=null==(e=(0,p.x)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ie(t)}generalPropertiesForObj(t,e){return function(t,e){const n=Dt(t,e);return n&&Pt(n)||[]}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=Ft(t,e,n);return r&&Pt(r)||[]}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=Dt(t,e);if(!n)return[];const r=xt(n);return r&&Wt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=Ft(t,e,n);if(!r)return[];const o=xt(r);return o&&Wt(o)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.d7)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=E.Jj.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,F.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,m.vI)(t)}initializeContentForWidget(t,e){(0,m.k9)(t,e)}initializeCopy(t){pt((0,E.GD)(),t)}initializeObjCopy(t,e){pt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){dt(this,null,(function*(){var r;const o=null==(r=yield gt(t,e))?void 0:r.widget(n);o&&bt((0,k.pz)(o))}))}(t,e,n)}getClasses(){return N()}navigateTo(t){return(0,i._i)({objId:t}).then((()=>({version:(0,s.pj)()})))}showCustomComponent(t,e){Kt(t,e)}showWidgetContent(t,e){oe(t,e)}objReplicationMessageStream(t,e){return D.vr.get(t,e).replicationMessageStream()}getDocumentTitle(){return d.get()||""}getMenuPatch(){return(0,w.Js)()}getUrlFor(t,e={}){const n=E.Jj.getIncludingDeleted(t);return n?(0,a.M)(n,e):null}getResolvedUrl(t){return function(t){const e=ut(t),n=(0,lt.jh)(e);if(!n||!n.objId||"/"===n.sitePath)return null;const r={obj_id:n.objId},o=e.fragment();o&&(r.fragment=o);const i=e.search();return i&&(r.query=i),r}(t)}getHomepageId(){const t=(0,C.R)();return t?t.id():null}getSiteIdForObj(t){return(0,T.iY)(t)}getElementBoundaries(t){return(0,g.st)(t)}getContentZoneData(){return(0,c.$)()}getCustomComponentDimensions(){return at((0,x.Me)().querySelector("html"))}getScrollPosition(){return ct((0,x.Me)().querySelector("html"))}getCurrentAppLocation(){return ot()}getValidationReport(t){const e=E.Jj.get(t);if(!e)return;const n=(0,F.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,F.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:ue("error",n,r),warning:ue("warning",n,r),info:ue("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,H.z)(t)}getExtensionsUrl(){return(0,b.S)()}scrollToTop(){(0,x.X5)(0,0)}wantsLayoutEditing(){return(0,h.rl)()}getForcedEditorLanguage(){return(0,v.X)()}getPreviewSizes(){return(0,j.F)()}wantsAutoAttributeConversion(){return(0,E.Fh)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,y.g)())?t:null}}function ue(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}function le(t){const e=(0,E.R2)((0,E.hA)((0,E.GD)()),t);return e&&(0,k.pz)(e)}function ce(t){const e=(0,I.Sp)(P,new se);(0,I.XP)(t,e,P,(t=>((0,x.a6)(t),t.message)))}}}]);