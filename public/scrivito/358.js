"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[358,993],{6886:(t,e,n)=>{n.d(e,{A:()=>f,n:()=>d});var r=n(5204),i=n(1946),o=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&c(t,n,e[n]);if(a)for(var n of a(e))l.call(e,n)&&c(t,n,e[n]);return t};function d(t,e,n){return(0,r.dY)((()=>g((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.dY)((()=>g((e=>{delete e[t]}))))}function f(){const t=m();return Object.keys(t).map((e=>{const n=parseInt(e,10);return u({elementId:n},t[n])}))}const p=(0,i.Ld)();function g(t){const e=u({},m());t(e),p.set(e)}function m(){return p.get()||{}}},6200:(t,e,n)=>{n.d(e,{bO:()=>l,kT:()=>a,nl:()=>s});var r=n(5204),i=n(5688);const o={};function a(t,e){o[t]=e}function s(t){delete o[t]}function l(t){return o[t]?c.get(t).get():null}const c=(0,i.rL)({loadElement:t=>({stream:new r.RE((e=>{const n=()=>{const n=o[t];e.next(n?function(t){const{left:e,top:n,width:r,height:i}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:i}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},6155:(t,e,n)=>{n.d(e,{s:()=>l,F:()=>c});var r=n(2574),i=n(414),o=n(8417),a=n(7861);const s=(0,i.A)((function(t){return(0,o.A)((0,r.A)(t,1,a.A,!0))}));function l(t,e){return s(t?Object.keys(t):[],e?Object.keys(e):[]).sort()}function c(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}},3695:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>bt,Team:()=>vt,editorRegistrationFor:()=>u,getCachedValidationReportEntries:()=>x,getDataStackVariables:()=>ot,getDataVariablesFor:()=>st,getGlobalDataVariables:()=>it,installDndHandler:()=>o,installScrollHandler:()=>h,openContentBrowser:()=>m,registerEditor:()=>c,reloadIfContextChangesFrom:()=>H,runValidationsFor:()=>T,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>Z,validationResultsFor:()=>W});var r=n(7272),i=n(5204);function o(){const t=(0,i.YE)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.H)().drop()}))}var a=n(1946);let s=0,l={};function c(t){const e=(s++,s.toString());l[e]=t;const n=d.get()||[];d.set([...n,e])}function u({type:t,tag:e}){const n=d.get();if(n){const r=n.find((n=>l[n]&&l[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:l[r]}}}}const d=(0,a.Ld)();(0,i.Nj)((function(){s=0,l={},d.clear()}));var f=n(1616);function p(){const t=(0,i.YE)().body;t.classList.add("scrivito_editing_active"),(0,f.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,f.gY)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(7283);function m(t={}){return(0,r.H)().openContentBrowser((0,g.n)(t))}const v=30,b=25;function h(){(0,i.YE)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,i.BA)(),r=(0,i.kA)();r>0&&e<v?(0,i.VG)(n,r-b):(0,i.Hj)()>r+(0,i.eU)()&&e>(0,i.eU)()-v&&(0,i.VG)(n,r+b)}))}var y=n(2295),w=n(7461);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,y.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,i.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,y.u)(e))?void 0:n.title)||(0,i.o3)(e));var e,n}var C=n(2574),O=1/0;const E=function(t){return(null==t?0:t.length)?(0,C.A)(t,O):[]};var I=n(1728);const k=["error","warning","info"];function D(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==k.indexOf(e)}(e)&&(!!n&&"object"==typeof n)}var P=n(5688),_=n(4360),M=Object.defineProperty,S=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,N=(t,e,n)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||(e={}))F.call(e,n)&&N(t,n,e[n]);if(S)for(var n of S(e))V.call(e,n)&&N(t,n,e[n]);return t};const A={error:0,warning:1,info:2};function W(t,e){return function(t,e){(0,_.kq)(t)||(0,i.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,i.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),x(t._scrivitoPrivateContent).filter((t=>(0,i.On)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>A[t]-A[e])).map((t=>({message:t.message,severity:t.severity})))}const x=(0,P.rP)([],(t=>t instanceof _.kI?t.id():`${t.obj().id()}/${t.id()}`),T);function T(t){var e;const n=t instanceof _.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),o=null==(e=(0,y.u)(r))?void 0:e.validations;if(!o)return[];const a=(0,w.Dy)(t);return E(o.map((t=>"function"==typeof t?function(t,e){return $(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(J)}(t,a):function(t,e){const[n,...r]=t,o=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,i.iI)(t)||R(t)}(n))return(0,i.JL)(new i.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${o}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(R(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof _.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const s=G({name:n},(c=e,c._scrivitoPrivateContent instanceof _.kI?{content:e,obj:e}:{content:e,widget:e})),l=`Please check validations for the attribute ${n} of the model ${o}. `;var c;return E(r.map((t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=D(t)?t[1]:t;return(0,I.v)()(e)}(t),i=D(t)&&(null==(e=t[0])?void 0:e.severity);return $(l,r,a,s).map((t=>({attributeName:n,message:t.message,severity:i||t.severity||"error"})))})))}(t,a))))}function J(t){return{message:t.message,severity:t.severity||"error"}}function R(t){return["_language","_permalink"].includes(t)}function $(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,i.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t,severity:"error"}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==k.indexOf(e));var e}(r)?[r]:((0,i.JL)(new i.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function H(t){(0,P.eX)((()=>(0,r.H)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,i.K5)(n),(0,i.yQ)())}))}var L=n(5796),B=n(5634),z=n(6155),U=n(9708),Y=n(9800),K=n(1107),q=n(5460);function Z(t){if(q.B)return q.B.translate(t)}var Q=Object.defineProperty,X=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,nt=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e)=>{for(var n in e||(e={}))tt.call(e,n)&&nt(t,n,e[n]);if(X)for(var n of X(e))et.call(e,n)&&nt(t,n,e[n]);return t};const it=(0,P.rP)(void 0,(()=>{const t=function(){const t={};return(0,Y.iW)().forEach((e=>{const n=e.dataClassName(),r=(0,y.u)(n),i=(0,Y.m8)(n),o=ft(n,r),a=(0,z.s)(i,null==r?void 0:r.attributes);a.length>0?a.forEach((a=>{var s;return t[dt(n,a)]=ut(o,ft(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==i?void 0:i[a]),e.get(a))})):Object.assign(t,ct(e,n,o))})),t}();return Object.keys(t).length?t:void 0}));const ot=(0,P.rP)(void 0,(function(t){return t.filter(Y.o3).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=t.filter(Y.o3).map((({_class:t,_id:e})=>{var n;return null==(n=(0,Y.sf)(t))?void 0:n.get(e)})).filter((t=>!!t)).filter(at).map(lt).filter((t=>!!t));return 0===e.length?void 0:Object.assign({},...e)}));function at(t,e,n){return!(0,U.I)(t.dataClassName())||!n.slice(0,e).find((e=>e.dataClassName()===t.dataClassName()))}function st(t,e){const n=pt(t);if(n)return function(t,e){return(0,L.A)(t,((t,n)=>rt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function lt(t,e){let n,r;const i=t.obj();i&&(n=(0,Y.u5)((0,w.zo)(i)),r=n?Object.keys(n):[]);const o={},a=t.dataClassName(),s=(0,y.u)(a),l=(0,Y.m8)(a),c=function(t){var e;if(!(0,U.I)(t.dataClassName()))return;const n=null==(e=(0,B.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const i=(0,K.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!i||"string"!=typeof i)return;const o=n.id()===r.id()?` (${Z("current_page")||"Current page"})`:"";return`${i} (${r.objClass()})${o}`}(t)||ft(a,s),u=(0,z.s)(l,null==s?void 0:s.attributes),d=(0,U.I)(t.dataClassName())?e:void 0;if(u.length>0)u.forEach((e=>{var n;r&&!r.includes(e)||(o[dt(a,e)]=ut(c,ft(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==l?void 0:l[e]),t.get(e),d))}));else if(n)Object.entries(n).forEach((([t,e])=>o[dt(a,t)]=ut(c,ft(t),e,d)));else if(t instanceof Y.FU)return ct(t,a,c);return o}function ct(t,e,n){const r=t.getCustomAttributes(),i=Object.fromEntries(Object.entries(r).map((([t,r])=>[dt(e,t),ut(n,ft(t),r)])));return rt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},i)}function ut(t,e,n,r){return rt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r})}function dt(t,e){return`${t}.${e}`}function ft(t,e,n){return(0,z.F)(e,null==n?void 0:n[1])||(0,i.o3)(t)}function pt(t){var e;const n=t.getContainer(),r=null==(e=(0,y.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),i=r.class();if(null===i)return;const o=null==(n=(0,y.u)(i))?void 0:n.attributes;if(!o)return;return(0,L.A)(o,((t,e)=>ft(e,t)))}(t,e):e}if(n instanceof _.$R){const t=n.obj().fieldContainingWidget(n);if(t)return pt(t)}}var gt=n(2109),mt=n(8589);class vt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class bt extends mt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new vt(t)))}authToken(t){return(0,gt.d)({audience:t})||""}}},1358:(t,e,n)=>{n.r(e),n.d(e,{AttributeValueWithEditing:()=>T,ChildListTagWithEditing:()=>Rt,WidgetPlaceholder:()=>ee,WidgetTagWithEditing:()=>Pt,WidgetlistPlaceholder:()=>Yt});var r=n(4924),i=n(5057),o=n(1616),a=n(3695),s=n(9955),l=n(5163),c=n(3602),u=n(1303),d=n(3648),f=n(5204),p=n(9800),g=n(5688),m=n(4686),v=n(7440);var b,h=n(1946),y=Object.defineProperty,w=Object.defineProperties,j=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,I=(t,e,n)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||(e={}))O.call(e,n)&&I(t,n,e[n]);if(C)for(var n of C(e))E.call(e,n)&&I(t,n,e[n]);return t},D=(t,e)=>w(t,j(e));const P=(0,c.Ng)((function(t){const e=(0,m.iH)(),n=null==e?void 0:e.placeholders,i=(0,a.getGlobalDataVariables)(),o=(null==e?void 0:e.dataStack)?(0,a.getDataStackVariables)(e.dataStack):void 0;return r.createElement(_,D(k({},t),{placeholders:n,dataStackVariables:o,globalDataVariables:i}))})),_=(0,c.Ng)(((b=class extends r.Component{constructor(t){super(t),this.stateChangeCausedByEditor=new f.hl,this.field=this.props.field,this.state={domMode:"None"};const e=this.props.editorClass;if(e){const t={getContent:this.getContent.bind(this),options:this.options.bind(this),setContent:this.setContent.bind(this),setDomMode:this.setDomMode.bind(this),validObjClasses:this.validObjClasses.bind(this),isDataIntegrationActive:p.BF};this.editor=new e({controller:t})}}componentDidMount(){if(!this.editor)return;const t=this.editor;t.editorWillBeActivated();const e=(0,h.Ml)((()=>this.getContent()),(()=>{this.stateChangeCausedByEditor.current()||t.contentDidChange()}));this.unsubscribe=e.unsubscribe,"Replace"===this.state.domMode&&this.editorDomWasMounted()}componentDidUpdate(t,e){var n;const r=e.domMode,i=this.state.domMode;r!==i&&("Replace"===i?this.editorDomWasMounted():this.editorDomWasUnmounted()),t.globalDataVariables===this.props.globalDataVariables&&t.dataStackVariables===this.props.dataStackVariables||null==(n=this.editor)||n.contentDidChange()}componentWillUnmount(){this.editor&&this.editor.editorWillBeDeactivated(),this.unsubscribe&&this.unsubscribe(),this.unregisterScrollTarget&&this.unregisterScrollTarget()}render(){if("Replace"===this.state.domMode){const t=this.props.customProps,{children:e,dangerouslySetInnerHTML:n}=t,i=((t,e)=>{var n={};for(var r in t)O.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&C)for(var r of C(t))e.indexOf(r)<0&&E.call(t,r)&&(n[r]=t[r]);return n})(t,["children","dangerouslySetInnerHTML"]),o=t=>{t.stopPropagation(),t.preventDefault()};return r.createElement(this.props.tag,D(k({},i),{ref:t=>{this.editorComponent=t},onClick:o}))}let t;const e=this.editor;return e&&e.onClick&&(t=t=>{t.stopPropagation(),t.preventDefault(),e.onClick()}),r.createElement(s.eK,{elementCallback:t=>{this.editorComponent=t},widgetProps:this.props.widgetProps,customProps:this.props.customProps,field:this.props.field,key:this.state.domMode,tag:this.props.tag,onClick:t})}editorDomWasMounted(){if(this.editor&&this.editorComponent){const t=this.editorComponent;this.editor.editorDomWasMounted(t);const e=this.props.field.obj().id(),n=this.props.field.name();this.unregisterScrollTarget=(0,d.a)({objId:e,attributeName:n},t)}}editorDomWasUnmounted(){this.editor&&this.editor.editorDomWasUnmounted()}setDomMode(t){this.setState({domMode:t})}getContent(){return(0,g.Fg)((()=>{if("html"===this.field.type()){const e=this.field.get();return t=e,(0,v.n)(t,{preserveObjId:!0})}var t;return this.field.get()})).result}setContent(t){this.stateChangeCausedByEditor.runWith(!0,(()=>this.field.update(t)))}options(){const t=k({},(0,u.w)(this.field.getContainer().objClass(),this.field.name(),this.field.type()));if(!(0,p.BF)())return t;const e=(0,a.getDataVariablesFor)(this.field,this.props.placeholders),{dataStackVariables:n,globalDataVariables:r}=this.props;return(n||e||r)&&(t.dataVariables=k(k(k({},e),n),r)),t}validObjClasses(){return this.field.validClasses()}}).displayName="Scrivito.ContentTag.Editor",b));var M=n(4360);var S=Object.defineProperty,F=Object.defineProperties,V=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,W=(t,e,n)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))G.call(e,n)&&W(t,n,e[n]);if(N)for(var n of N(e))A.call(e,n)&&W(t,n,e[n]);return t};const T=(0,c.Ng)((function(t){const e=(0,l.E)(),{field:n,tag:c}=t;if(!(0,o.HD)()||!(0,i.V)(n.obj().id()))return r.createElement(s.eK,x({},t));if(e){const e=(0,a.editorRegistrationFor)({type:n.type(),tag:c});if(e){const{id:i,editorClass:o}=e,a=[c,(d=n.getContainer(),d instanceof M.kI?d.id():`${d.obj().id()}|${d.id()}`),n.name(),i].join("|");return r.createElement(P,(u=x({},t),F(u,V({key:a,editorClass:o}))))}}var u,d;return r.createElement(s.eK,x({},t))}));var J=n(8848),R=n(5460),$=n(92),H=n(7272),L=n(6886),B=n(6200),z=Object.defineProperty,U=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Q=(t,e,n)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X=(t,e)=>{for(var n in e||(e={}))q.call(e,n)&&Q(t,n,e[n]);if(K)for(var n of K(e))Z.call(e,n)&&Q(t,n,e[n]);return t},tt=(t,e)=>U(t,Y(e));function et(t){var e;return(e=class extends r.Component{constructor(t){super(t),this.registeredElement=new ot}render(){return r.createElement(t,tt(X({},this.props),{registeredElement:this.registeredElement}))}}).displayName=`${(0,c.NY)(t)}WithRegisteredElement`,e}function nt(t,e){var n;return(n=class extends r.Component{constructor(t){super(t),this.registeredElement=new ot}componentDidMount(){this.unregisterContentZone=(0,L.n)(this.registeredElement.id(),t(this.props),this.context)}componentWillUnmount(){this.unregisterContentZone&&this.unregisterContentZone()}render(){return r.createElement(rt.Provider,{value:this.registeredElement.id()},r.createElement(e,tt(X({},this.props),{registeredElement:this.registeredElement})))}}).displayName=`${(0,c.NY)(e)}WithContentZone`,n.contextType=rt,n}const rt=r.createContext(void 0),it=class t{static generateId(){return this.currentId++,this.currentId}constructor(){this.elementId=t.generateId()}id(){return this.elementId}set(t){t?(0,B.kT)(this.elementId,t):(0,B.nl)(this.elementId)}};it.currentId=0;let ot=it;var at;const st=et((0,c.Ng)(((at=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this)}render(){const{markerClassName:t,tooltip:e,disableMenu:n}=function(t){switch(t.modification){case"new":return{tooltip:ct("widget_is_new")};case"edited":switch(t.placementModification){case"new":return{markerClassName:"scrivito_widget_moved_icon",tooltip:ct("widget_is_edited_and_dragged_here")};case"deleted":return{markerClassName:"scrivito_widget_moved_icon",tooltip:ct("widget_is_edited_and_dragged_away"),disableMenu:!0};default:return{tooltip:ct("widget_is_edited")}}case"deleted":return{tooltip:ct("widget_is_deleted")};default:switch(t.placementModification){case"new":return{tooltip:ct("widget_is_dragged_here")};case"deleted":return{tooltip:ct("widget_is_dragged_away")}}}}(this.props.widgetModification),i=n?void 0:this.onClick;return r.createElement("span",{ref:t=>this.props.registeredElement.set(t),className:`scrivito_editing_marker ${null!=t?t:""} ${i?"":"scrivito_disabled"}`,title:e,onClick:i,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},r.createElement("i",{className:`scrivito_icon ${lt(this.props.widgetModification)}`}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(this.props.widget)))}onClick(t){t.preventDefault(),t.stopPropagation(),(0,H.H)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})}}).displayName="Scrivito.ContentTag.ComparisonMenuMarker",at)));function lt(t){switch(t.modification){case"new":return"scrivito_icon_inv_plus";case"edited":return"scrivito_icon_edited";case"deleted":return"scrivito_icon_trash";default:return"scrivito_icon_moved"}}function ct(t){return(0,a.uiTranslate)(`widget_marker.${t}`)}var ut;const dt=et((0,c.Ng)(((ut=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragEnd=this.onDragEnd.bind(this)}render(){return r.createElement("span",{ref:t=>this.props.registeredElement.set(t),className:"scrivito_editing_marker",title:this.props.tooltip,onClick:this.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,draggable:!0,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(this.props.widget)))}onClick(t){t.preventDefault(),t.stopPropagation(),(0,H.H)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})}onDragStart({dataTransfer:t,target:e}){t.effectAllowed="move",t.setData("text/plain",e.id),(0,H.H)().startDrag(this.props.widget.obj().id(),this.props.widget.id()),this.props.setDragState(!0)}onDragEnd(){(0,H.H)().endDrag(),this.props.setDragState(!1)}}).displayName="Scrivito.ContentTag.EditingMenuMarker",ut)));function ft(t){return t.map((t=>(0,f.PX)(t.message)[0])).join("\n")}const pt=(0,c.Ng)((function({insertWidget:t,onMouseOut:e,onMouseOver:n,position:i,widget:o}){return r.createElement("span",{className:`scrivito_option_marker scrivito_${i}`,onClick:function(e){e.preventDefault(),e.stopPropagation(),t(o,i)},onMouseOver:n,onMouseOut:e},r.createElement("i",{className:"scrivito_icon scrivito_icon_marker_plus"}))}));let gt,mt=0,vt={};var bt=n(7461),ht=Object.defineProperty,yt=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Et=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,It=(t,e)=>{for(var n in e||(e={}))Ct.call(e,n)&&Et(t,n,e[n]);if(jt)for(var n of jt(e))Ot.call(e,n)&&Et(t,n,e[n]);return t},kt=(t,e)=>yt(t,wt(e)),Dt=(t,e)=>{var n={};for(var r in t)Ct.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&jt)for(var r of jt(t))e.indexOf(r)<0&&Ot.call(t,r)&&(n[r]=t[r]);return n};const Pt=t=>r.createElement($.K.Consumer,null,(e=>r.createElement(Mt,It(It({},e),t)))),_t=(0,c.Ng)((function(t){var e;const n=(0,l.E)(),[s,c]=r.useState(!1),[u,f]=r.useState(!1),[p,g]=r.useState(!0),[m,v]=r.useState(!1),[b,h]=r.useState(!1),y=r.useRef(),w=r.useRef(),j=r.useRef(),C=r.useRef(!1),O=r.useRef(),E=null==(e=bt.Sj.forInstance((0,bt.Dy)(t.widget)))?void 0:e.attributes();let I=!1,k=!1;if(E){const t=Object.keys(E);I=t.some((t=>{const[e]=E[t];return"widget"===e||"widgetlist"===e})),k=t.some((t=>"data"===t&&"datalocator"===E[t][0]))}if(r.useEffect((()=>{const e=O.current;e&&(w.current=(0,d.a)({objId:t.widget.obj().id(),widgetId:t.widget.id()},e,(()=>{v(!0),h((t=>!t))})))}),[t.widget]),r.useEffect((()=>(y.current=function(t){const e=mt;return vt[e]=t,mt+=1,e}({onFocus:()=>{c(!0),g(!1),N(),I||(j.current=window.setTimeout((()=>{C.current||g(!0)}),1e3))},onBlur:()=>c(!1)}),()=>{var t;N(),t=y.current,delete vt[t],w.current&&w.current()})),[I]),(0,o.HD)()){const e=t.widget.obj();if((0,i.V)(e.id()))return n?function(){const e=(0,a.getCachedValidationReportEntries)(t.widget);return r.createElement(t.tag,It(kt(It({},_()),{ref:e=>{t.registeredElement.set(e),O.current=e},className:M(),style:S(),onMouseOver:F,onMouseOut:V,children:[r.createElement(dt,{key:"menuMarker",widget:t.widget,tooltip:ft(e),setDragState:f,onMouseOver:G,onMouseOut:A}),...r.Children.toArray(t.children),r.createElement("span",{key:"border",className:"scrivito_widget_border"}),W("top"),W("bottom")]}),St({validationResults:e,isStructureWidget:I,hasStandardDatalocator:k})))}():D()}if((0,o.gY)()){const e=function(){const e=t.widget.modification((0,J.d)()),n=t.placementModification;if(e)return{modification:e,placementModification:n};if(n)return{placementModification:n}}();if(e&&!function({modification:t,placementModification:e}){return"deleted"===t&&!e}(e))return function(e){return r.createElement(t.tag,It(kt(It({},_()),{ref:O,className:M(),style:S(),onMouseOver:F,onMouseOut:V,children:[r.createElement(st,{key:"menuMarker",widget:t.widget,widgetModification:e,onMouseOver:G,onMouseOut:A}),...r.Children.toArray(t.children)]}),St({modification:e.modification||e.placementModification,isStructureWidget:I,hasStandardDatalocator:k})))}(e)}return D();function D(){return r.createElement(t.tag,kt(It({},P()),{ref:O}))}function P(){const e=t,{tag:n,widget:r,placementModification:i,fieldType:o,registeredElement:a}=e;return Dt(e,["tag","widget","placementModification","fieldType","registeredElement"])}function _(){const t=P(),{className:e,style:n}=t;return Dt(t,["className","style"])}function M(){let e=t.className||"";const n=s&&!p;(0,o.HD)()&&n&&(e+=" scrivito_active scrivito_entered");const r="deleted"===t.placementModification||"deleted"===t.widget.modification((0,J.d)());return(0,o.gY)()&&r&&(e+=" scrivito_modification_opacity"),m&&(e+=b?" scrivito_wiggle_odd":" scrivito_wiggle_even"),e}function S(){return u?t.style?kt(It({},t.style),{opacity:.5}):{opacity:.5}:t.style}function F(t){t.stopPropagation(),function(t){gt=t;const e=vt[gt];e&&e.onFocus()}(y.current)}function V(t){t.stopPropagation(),function(t){if(t===gt){const e=vt[t];e&&e.onBlur()}}(y.current)}function N(){j.current&&window.clearTimeout(j.current)}function G(){C.current=!0}function A(){C.current=!1}function W(e){return"widget"===t.fieldType?null:r.createElement(pt,{key:`optionMarker-${e}`,position:e,widget:t.widget,insertWidget:Ft,onMouseOver:G,onMouseOut:A})}})),Mt=nt((({widget:t})=>{if(!t)throw new f.Gd;return{type:"widget",objId:t.obj().id(),widgetId:t.id()}}),(t=>{var e=t,{widget:n}=e,i=Dt(e,["widget"]);if(!n)throw new f.aS("Detected inappropriate placing of Scrivito.WidgetTag: It is intended to be used exclusively as top-level element inside a Widget component.");return r.createElement(_t,It({widget:n},i))}));function St({modification:t,validationResults:e,isStructureWidget:n,hasStandardDatalocator:r}){const i={"data-scrivito-private-widget":"true","data-scrivito-private-dropzone":"true"};n&&(i["data-scrivito-private-structure-widget"]="true"),n&&r&&(i["data-scrivito-private-data-widget"]="true"),t&&(i["data-scrivito-private-widget-modification"]=t);return["error","warning","info"].forEach((t=>{var n,r;n=t,(r=e)&&r.some((t=>t.severity===n))&&(i[`data-scrivito-private-widget-validation-${t}`]="true")})),i}function Ft(t,e){R.B.insertWidget(t.obj().id(),t.id(),e)}function Vt({parent:t,registeredElement:e}){return r.createElement("span",{ref:t=>e.set(t),className:"scrivito_editing_marker",onClick:function(n){n.preventDefault(),n.stopPropagation(),(0,H.H)().showChildListMenu(e.id(),t.id())}},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},t.objClass()))}Vt.displayName="Scrivito.ChildListTag.MenuMarker";const Nt=et((0,c.Ng)(Vt));var Gt=Object.defineProperty,At=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Tt=(t,e,n)=>e in t?Gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jt=(t,e)=>{for(var n in e||(e={}))Wt.call(e,n)&&Tt(t,n,e[n]);if(At)for(var n of At(e))xt.call(e,n)&&Tt(t,n,e[n]);return t};const Rt=(0,c.Ng)((function(t){const e=(0,l.E)(),[n,i]=r.useState(!1),a=t,{basicParent:s,tag:c}=a,u=((t,e)=>{var n={};for(var r in t)Wt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&At)for(var r of At(t))e.indexOf(r)<0&&xt.call(t,r)&&(n[r]=t[r]);return n})(a,["basicParent","tag"]),d=(0,o.HD)()&&e,f=r.Children.toArray(t.children),p=d?[r.createElement(Nt,{parent:s,key:"menuMarker"}),...f]:f,g=d&&{onMouseOver:v,onMouseOut:b,"data-scrivito-private-child-list-path":!0,className:n?`scrivito_active scrivito_entered ${null!=(m=t.className)?m:""}`:t.className};var m;return r.createElement(c,Jt({},Jt(Jt({},g),u)),p);function v(t){t.stopPropagation(),i(!0)}function b(t){t.stopPropagation(),i(!1)}}));var $t,Ht=Object.defineProperty,Lt=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,Ut=(t,e,n)=>e in t?Ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const Yt=nt((t=>((t,e)=>{for(var n in e||(e={}))Bt.call(e,n)&&Ut(t,n,e[n]);if(Lt)for(var n of Lt(e))zt.call(e,n)&&Ut(t,n,e[n]);return t})({type:"widgetlist"},Kt(t.field))),(0,c.Ng)((($t=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this)}render(){return r.createElement("div",{ref:t=>{this.widgetlistPlaceholder=t,this.props.registeredElement.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:this.onClick})}onClick(t){if(t.preventDefault(),t.stopPropagation(),this.widgetlistPlaceholder){const{objId:e,widgetId:n,attributeName:r}=Kt(this.props.field);(0,H.H)().showWidgetlistMenu(this.props.registeredElement.id(),(0,f.H5)(t,this.widgetlistPlaceholder),e,r,n)}}}).displayName="Scrivito.ContentTag.WidgetlistPlaceholder",$t)));function Kt(t){const e=t.getContainer();return e instanceof M.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}var qt=Object.defineProperty,Zt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,te=(t,e,n)=>e in t?qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const ee=nt((({field:t})=>((t,e)=>{for(var n in e||(e={}))Qt.call(e,n)&&te(t,n,e[n]);if(Zt)for(var n of Zt(e))Xt.call(e,n)&&te(t,n,e[n]);return t})({type:"widgetField"},ne(t))),(0,c.Ng)((function({field:t,registeredElement:e}){const[n,i]=r.useState(null);return r.createElement("div",{ref:t=>{i(t),e.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:function(r){if(r.preventDefault(),r.stopPropagation(),n){const{objId:i,widgetId:o,attributeName:a}=ne(t);(0,H.H)().showWidgetlistMenu(e.id(),(0,f.H5)(r,n),i,a,o)}}})})));function ne(t){const e=t.getContainer();return e instanceof M.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}},1107:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>pe,startAppAdapter:()=>me,titleForObj:()=>fe});var r=n(5796),i=n(1579),o=n(4572),a=n(5112),s=n(7478),l=n(349),c=n(2726),u=n(6886),d=n(1946);const f=(0,d.Ld)();var p=n(2295),g=n(6200),m=n(2026),v=n(5584),b=n(8261),h=n(838),y=n(263),w=n(5788),j=n(9641),C=n(827),O=n(3648),E=n(7283),I=n(4416),k=n(2577);k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.fG,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.dY,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV,k.JV;const D={getAdapterSpec:k.fG,getCapabilities:k.fG,getPreviewSizes:k.fG,descriptionForObj:k.fG,getClasses:k.fG,getContentBrowserConfiguration:k.fG,getHomepageId:k.fG,getSiteIdForObj:k.fG,titleForObj:k.fG,titleForWidget:k.fG,thumbnailForObj:k.fG,getAuthGroups:k.fG,getContentZoneData:k.fG,getCurrentAppLocation:k.fG,getCustomComponentDimensions:k.fG,getDocumentTitle:k.fG,getElementBoundaries:k.fG,getExtensionsUrl:k.fG,getMenuPatch:k.fG,getObjClassForContentTypeMapping:k.fG,getResolvedUrl:k.fG,getScrollPosition:k.fG,getValidationReport:k.fG,getUrlFor:k.fG,getForcedEditorLanguage:k.fG,generalPropertiesForObj:k.fG,generalPropertiesForWidget:k.fG,propertiesGroupsForObj:k.fG,propertiesGroupsForWidget:k.fG,wantsLayoutEditing:k.fG,getInitialContentDumpUrl:k.fG,objReplicationMessageStream:k.dY,executeCustomCommand:k.JV,initializeContentForObj:k.JV,initializeContentForWidget:k.JV,initializeCopy:k.JV,initializeObjCopy:k.JV,initializeWidgetCopy:k.JV,navigateTo:k.JV,scrollIntoView:k.JV,scrollToTop:k.JV,showCustomComponent:k.JV,showWidgetContent:k.JV,wantsAutoAttributeConversion:k.fG};var P=n(5204),_=n(1091),M=n(3695),S=n(4360),F=n(7461);function V(t){const e=(0,S.ED)((0,S.aG)((0,S.eb)()),t);return e&&(0,F.Dy)(e)}var N=n(1737),G=n(3617),A=n(9955),W=n(6155),x=n(9800);function T(){return(0,x.VU)().map((t=>function(t){const e=t.name(),n=(0,p.u)(e),r=(0,x.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,x.nx)(e),description:null==n?void 0:n.description,attributes:J(r,null==n?void 0:n.attributes),isSingleton:(0,x.Qk)(e)}}(t)))}function J(t,e){return(0,W.s)(t,e).map((n=>function(t,e,n){const[r,i]=e||["string"],[o,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce((([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]]),[[],[]])):[];var n}(r,i);return{name:t,type:r,values:o,valuesLocalization:a,title:(0,W.F)(n,i),description:null==n?void 0:n.description,referenceTo:R(r,i),reverseTitle:$(i)}}(n,null==t?void 0:t[n],null==e?void 0:e[n])))}function R(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function $(t){return(0,x.y8)(t)?t.reverseTitle:void 0}var H=Object.defineProperty,L=Object.defineProperties,B=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,K=(t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))U.call(e,n)&&K(t,n,e[n]);if(z)for(var n of z(e))Y.call(e,n)&&K(t,n,e[n]);return t},Z=(t,e)=>L(t,B(e)),Q=(t,e)=>{var n={};for(var r in t)U.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&z)for(var r of z(t))e.indexOf(r)<0&&Y.call(t,r)&&(n[r]=t[r]);return n};function X(){const t=(0,F.Pi)();return Object.keys(t).map((e=>function(t,e){const n=F.Sj.forClass(e);return q({type:"Obj",hasComponent:(0,A.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},et(t,n))}(e,t[e])))}function tt(){const t=(0,F.Yh)();return Object.keys(t).map((e=>function(t,e){const n=F.Sj.forClass(e);return q({type:"Widget"},et(t,n))}(e,t[e])))}function et(t,e){var n,r,i,o,a,s;const l=null==(n=(0,p.u)(t))?void 0:n.thumbnail,c=null==(r=(0,p.u)(t))?void 0:r.properties;return{attributes:(u=e.attributes(),d=(null==(i=(0,p.u)(t))?void 0:i.attributes)||{},Object.keys(u).map((t=>{const[e,n]=u[t],r=d[t];if(!r)return q({name:t,type:e},n);const i=r,{values:o}=i,a=Q(i,["values"]);return q(Z(q({name:t,type:e},n),{hasEditingConfig:!0,valuesLocalization:o}),a)}))),description:null==(o=(0,p.u)(t))?void 0:o.description,hideInSelectionDialogs:null==(a=(0,p.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,P.Bo)(c)?c:void 0,thumbnail:l&&(0,G.r)(l),title:null==(s=(0,p.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var u,d}var nt=n(9286),rt=Object.defineProperty,it=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,ct=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function ut(){const t=(0,nt.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,P.u4)();if(void 0===r)throw new P.Gd;return s=((t,e)=>{for(var n in e||(e={}))st.call(e,n)&&ct(t,n,e[n]);if(at)for(var n of at(e))lt.call(e,n)&&ct(t,n,e[n]);return t})({},(i=e).sitePath?i.objId?{type:"page",siteId:i.siteData.siteId,objId:i.objId}:{type:"not found",siteId:i.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(o=i.siteData)?void 0:o.siteId)?a:null}),l={url:r+n.location,version:n.historyChangesCount},it(s,ot(l));var i,o,a,s,l}var dt=n(5688);function ft(t){return function(t){return(0,dt.vD)({state:pt,stream:new P.RE((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)}))})}(t).getWithDefault(null)}const pt=(0,d.Ld)();var gt=n(4066),mt=n(7183);function vt(t){return function(t){return(0,dt.vD)({state:bt,stream:new P.RE((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const bt=(0,d.Ld)();var ht=n(7272),yt=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())}));function wt(t,e){return yt(this,null,(function*(){yield(0,ht.H)().finishReplicatingObj(t,e);const n=yield jt(t,e);n&&Ct((0,F.Dy)(n))}))}function jt(t,e){return yt(this,null,(function*(){return(0,dt.Hh)((()=>(0,S.ED)((0,S.Wr)(t),e)))}))}function Ct(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,p.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var Ot=n(390),Et=Object.defineProperty,It=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,Mt=(t,e,n)=>e in t?Et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e)=>{for(var n in e||(e={}))Pt.call(e,n)&&Mt(t,n,e[n]);if(Dt)for(var n of Dt(e))_t.call(e,n)&&Mt(t,n,e[n]);return t},Ft=(t,e)=>It(t,kt(e));function Vt(t){var e;const n=t.objClass(),r="properties",i=null==(e=(0,p.u)(n))?void 0:e.properties;if(Rt(i))return i;if("function"==typeof i){let e;try{e=i((0,F.Dy)(t))}catch(e){Ht(e,t,r)}if(Rt(e))return e;throw Lt(n,r,"Properties must be an array of strings or an array of configs")}}function Nt(t){var e;const n=t.objClass(),r="propertiesGroups",i=null==(e=(0,p.u)(n))?void 0:e.propertiesGroups;if($t(i))return i;if("function"==typeof i){let e;try{e=i((0,F.Dy)(t))}catch(e){Ht(e,t,r)}return function(t,e,n){if(!$t(t))throw Lt(e,n,"The callback return value must be an array of groups");if(!t.every(Jt))throw Lt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&(0,Ot.A)(t,"key").length===t.length}(t))throw Lt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Wt))throw Lt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function Gt(t,e){return(0,S.ED)((0,S.aG)(t),e)}function At(t,e,n){var r;return null==(r=Gt(t,e))?void 0:r.widget(n)}function Wt(t){return!!function(t){return xt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function xt(t){return Ut(t)&&"string"==typeof t.title&&("string"==typeof t.component||Tt(t.component))}function Tt(t){return"function"==typeof t||"object"==typeof t&&null!==t}function Jt(t){return function(t){return xt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Ut(t)&&"string"==typeof t.title&&"string"==typeof t.key&&Rt(t.properties)}(t)}function Rt(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Ut(n)&&"boolean"==typeof n.enabled}(t)))}function $t(t){return Array.isArray(t)&&t.every((t=>{return xt(t)||Ut(e=t)&&"string"==typeof e.title&&Rt(e.properties);var e}))}function Ht(t,e,n){throw new P.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof S.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Lt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,P.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Bt(t){return t.map((t=>function(t){return xt(t)&&Tt(t.component)}(t)?Ft(St({},t),{component:null,enabled:zt(t)}):Ft(St({},t),{enabled:zt(t)})))}function zt(t){return"boolean"!=typeof t.enabled||t.enabled}function Ut(t){return(0,P.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Yt=n(4924),Kt=n(7639),qt=n(1616),Zt=n(8848),Qt=n(3602),Xt=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())}));function te(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){ee(e).then((n=>{let r;if((0,Kt.Jm)(se(n)),r=e.widgetId?function(t,e,n){const r=ne(e,n);return r&&ae(t,r)||null}(t,e.objId,e.widgetId):function(t,e){const n=ie(e);return n&&ae(t,n)||null}(t,e.objId),null===r)return;const i=Yt.createElement("function"==typeof r?(0,Qt.Ng)(r):r,n);(0,A.FM)(i)}))}(r,e):n&&function(t,e){const n=(0,A.K8)(t);if(null===n)throw new P.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);ee(e).then((t=>{(0,Kt.Jm)(se(t)),(0,A.FM)(Yt.createElement(n,t))}))}(n,e)}function ee(t){return Xt(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function({objId:t,widgetId:e}){return(0,dt.Hh)((()=>ne(t,e))).then((t=>{if(!t)throw new P.aS(`Missing widget with ID ${e}`);return{widget:(0,F.Dy)(t)}}))}(t):function({objId:t}){return(0,dt.Hh)((()=>ie(t))).then((e=>{if(!e)throw new P.aS(`Missing obj with ID ${t}`);const n=(0,F.Dy)(e);return{obj:n,page:n}}))}(t):{}}))}function ne(t,e){if((0,qt.gY)()){const[n,r]=(0,Zt.d)();return re(r,t,e)||re(n,t,e)}return re((0,S.eb)(),t,e)}function re(t,e,n){const r=oe(t,e);if(r)return r.widget(n)}function ie(t){if((0,qt.gY)()){const[e,n]=(0,Zt.d)();return oe(n,t)||oe(e,t)}return oe((0,S.eb)(),t)}function oe(t,e){return(0,S.ED)((0,S.aG)(t),e)}function ae(t,e){var n;const r=null==(n=Nt(e))?void 0:n.filter(xt);if(!r)return null;const i=r.find((e=>e.key===t));return(null==i?void 0:i.component)?"function"==typeof i.component||"object"==typeof i.component?i.component:(0,A.K8)(i.component):null}function se(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}var le=n(9398);function ce(t,e){return n=this,r=null,i=function*(){const n=yield(0,dt.Hh)((()=>S.kI.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&((0,le.F)(),(0,A.FM)(Yt.createElement(A.i1,{widget:r})))},new Promise(((t,e)=>{var o=t=>{try{s(i.next(t))}catch(t){e(t)}},a=t=>{try{s(i.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((i=i.apply(n,r)).next())}));var n,r,i}function ue(t){var e;const n=(0,S.ED)((0,S.aG)((0,S.eb)()),t);if(!n)return;const r=n.objClass(),i=null==(e=(0,p.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof i)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof S.yI){const e=de(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof F.OH&&t.isBinary()){const e=(0,F.zo)(t).get("blob",["binary"]);if(e){const t=de(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new P.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(i((0,F.Dy)(n)))}catch(t){(0,P.JL)(t)}}function de(t){return(0,dt.qt)(void 0,(()=>t.isImage()))}function fe(t){var e;const n=V(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class pe{getAdapterSpec(){return(0,r.A)(D,(()=>!0))}getCapabilities(){return{filterReferenceItems:!0,handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,E.n)((0,l._)(t))}getObjClassForContentTypeMapping(){return(0,c.p)()}getAuthGroups(){return(0,i.N)()}titleForObj(t){return fe(t)}descriptionForObj(t){var e;const n=V(t);if(!n)return;const r=null==(e=(0,p.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ue(t)}generalPropertiesForObj(t,e){return function(t,e){const n=Gt(t,e);return n&&Vt(n)||[]}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=At(t,e,n);return r&&Vt(r)||[]}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=Gt(t,e);if(!n)return[];const r=Nt(n);return r&&Bt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=At(t,e,n);if(!r)return[];const i=Nt(r);return i&&Bt(i)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=S.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,M.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,h.OG)(t)}initializeContentForWidget(t,e){(0,h.T6)(t,e)}initializeCopy(t){wt((0,S.eb)(),t)}initializeObjCopy(t,e){wt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){yt(this,null,(function*(){var r;yield(0,ht.H)().finishReplicatingObj(t,e);const i=null==(r=yield jt(t,e))?void 0:r.widget(n);i&&Ct((0,F.Dy)(i))}))}(t,e,n)}getClasses(){return[...X(),...tt(),...T()].map((t=>(0,N.A)(t,(t=>void 0!==t))))}navigateTo(t){return(0,o.vU)({objId:t}).then((()=>({version:(0,s.lQ)()})))}showCustomComponent(t,e){te(t,e)}showWidgetContent(t,e){ce(t,e)}objReplicationMessageStream(t,e){return _.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return f.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=S.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=gt(t),n=(0,mt.vA)(e);if(!n||!n.objId||"/"===n.sitePath)return null;const r={obj_id:n.objId},i=e.fragment();i&&(r.fragment=i);const o=e.search();return o&&(r.query=o),r}(t)}getHomepageId(){const t=(0,C.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,I.uo)(t)}getElementBoundaries(t){return(0,g.bO)(t)}getContentZoneData(){return(0,u.A)()}getCustomComponentDimensions(){return ft((0,P.YE)().querySelector("html"))}getScrollPosition(){return vt((0,P.YE)().querySelector("html"))}getCurrentAppLocation(){return ut()}getValidationReport(t){const e=S.kI.get(t);if(!e)return;const n=(0,M.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,M.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:ge("error",n,r),warning:ge("warning",n,r),info:ge("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,O.R)(t)}getExtensionsUrl(){return(0,m.q)()}scrollToTop(){(0,P.VG)(0,0)}wantsLayoutEditing(){return(0,y._F)()}getForcedEditorLanguage(){return(0,v.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,S.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,b.L)())?t:null}}function ge(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}function me(t){const e=(0,k.Mf)(D,new pe);(0,k.UK)(t,e,D,(t=>((0,P.JL)(t),t.message)))}}}]);